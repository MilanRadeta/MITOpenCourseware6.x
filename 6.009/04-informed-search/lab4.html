<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 2021.2.0.dev1971+hg.  miau. -->
<meta charset="utf-8"/>
<title>Lab 4: Frugal Maps | 6.009 Fall 2020</title>
<link href="https://py.mit.edu/_static/fall20/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="https://py.mit.edu/_static/_base/scripts/katex/katex.min.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/katex/katex.min.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/scripts/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/scripts/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<!-- CodeMirror -->
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/mode/python/python.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldcode.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/indent-fold.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.css" rel="stylesheet"/>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.css" rel="stylesheet"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/fall20"><img src="https://py.mit.edu/_static/fall20/logo.gif"/> 6.009</a></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/information">Information/Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/progress">Progress</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_e92315598caf37074f1c2542f0bc9c06">Help<span class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_e92315598caf37074f1c2542f0bc9c06" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/forum">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/python">Accessing/Installing Python</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/otherhelp">Other Help</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/labs/lab4?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab4">Lab 4: Frugal Maps</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Lab 4: Frugal Maps</h1></center>
<center>The questions below are due on Friday October 02, 2020; 04:00:00 PM.<br/> <br/></center><div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
If you are a current student, please <a href="https://py.mit.edu/fall20/labs/lab4?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2>Table of Contents</h2><ul><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2) Introduction</a></li><ul><li><a href="#_the_data">2.1) The Data</a></li><li><a href="#_testing">2.2) Testing</a></li></ul><li><a href="#_shortest_paths">3) Shortest Paths</a></li><ul><li><a href="#_design_considerations">3.1) Design Considerations</a></li><ul><li><a href="#_road_types" label="road_types">3.1.1) Road Types</a></li><li><a href="#_connectedness">3.1.2) Connectedness</a></li><li><a href="#_distance_measure">3.1.3) Distance Measure</a></li></ul><li><a href="#_auxiliary_data_structures">3.2) Auxiliary Data Structures</a></li><li><a href="#_testing_2">3.3) Testing</a></li></ul><li><a href="#_starting_and_ending_points">4) Starting and Ending Points</a></li><ul><li><a href="#_testing_3">4.1) Testing</a></li><li><a href="#_visualization" label="viz">4.2) Visualization</a></li></ul><li><a href="#_improving_runtime_with_heuristics">5) Improving Runtime With Heuristics</a></li><ul><li><a href="#_heuristics_and_optimality">5.1) Heuristics and Optimality</a></li><li><a href="#_a_heuristic_for_this_problem">5.2) A Heuristic For This Problem</a></li></ul><li><a href="#_need_for_speed_limits">6) Need for Speed (Limits)</a></li><ul><li><a href="#_heuristics">6.1) Heuristics</a></li><li><a href="#_visualization_2">6.2) Visualization</a></li></ul><li><a href="#_code_submission">7) Code Submission</a></li><li><a href="#_checkoff">8) Checkoff</a></li><ul><li><a href="#_grade">8.1) Grade</a></li></ul><li><a href="#_optional_extra_pieces">9) (Optional) Extra Pieces</a></li></ul>
<a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">§</a></h2>
<p>This lab assumes you have Python 3.6 or later installed on your machine.</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a href="https://py.mit.edu/_static/fall20/labs/lab4/lab4.zip"><tt>lab4.zip</tt></a></p>
<p>Most of your changes should be made to <code>lab.py</code>, which you will submit at the
end of this lab.  Importantly, you should not add any imports to the file.</p>
<p>You can also see and participate in online discussion about this lab in the <a href="https://py.mit.edu/forum/c/labs/lab-4" target="_blank">"Lab 4"
Category</a> in the forum.</p>
<p>This lab is worth a total of 4 points.  Your score for the lab is based on:</p>
<ul>
<li>correctly answering the questions throughout this page (1 point)</li>
<li>passing the <code>test.py</code> tests on the server (1 point, see below), and</li>
<li>a brief "checkoff" conversation with a staff member to discuss your work, and a review of your code's clarity/style (2 points).</li>
</ul>
<p>Note that passing all of the tests on the server will require that your code
runs reasonably efficiently and that it makes reasonably efficient use of
memory.</p>
<p><strong>The questions in section 2 on this page are due before lecture, at 11am
Eastern on Monday, 28 Sep.  The remaining questions on this page (including
your code submission) are due at 4pm Eastern on Friday, 2 Oct.  Checkoffs are
due at 10pm Eastern on Wednesday, 7 Oct.</strong></p>
<a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2) Introduction<a class="cs_permalink" href="#_introduction">§</a></h2>
<p>In this lab, you will be working with freely available<a class="anchor" name="catsoop_footnote_ref_1"></a><a href="#catsoop_footnote_1"><sup>1</sup></a> real-world mapping data
to solve the realistic large problem of finding the shortest (or fastest) path
between two points on a map.  You will implement the backend for a
route-finding application, which we will be able to use to plan paths around
Cambridge.</p>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_the_data"></a><h3 class="cs_section_title">2.1) The Data<a class="cs_permalink" href="#_the_data">§</a></h3></p>
<p>The data we'll use for this lab comes from
<a href="https://en.wikipedia.org/wiki/OpenStreetMap">OpenStreetMap</a>, and for the bulk
to this lab, we are working with data about Cambridge and the surrounding area
(about 650 MB of data).  While the raw data (downloaded from
<a href="https://download.bbbike.org/osm/">here</a>) was specified in the <a href="https://wiki.openstreetmap.org/wiki/OSM_XML">OSM XML
Format</a>, we have done a little bit
of pre-processing to convert the data to a format that is slightly easier to
work with.</p>
<p>As in the original format, we have divided the data into two separate pieces: a
list of "nodes" (representing individual locations) and a list of "ways"
(representing roads or other kinds of connections between nodes).  We have
stored these data in large files that contain many
<a href="https://docs.python.org/3/library/pickle.html">pickled</a> Python objects, one
for each node/way (the function we used to do this is made available to you in
the <code>util.py</code> file as <code>osm_to_serial_pickles</code>, in case you want to try it on
your own data).</p>
<p>The Cambridge data set stores these in two files, which are available in the
code distribution: <code>resources/cambridge.nodes</code> and <code>resources/cambridge.ways</code>.</p>
<p>We have also provided a helper function in <code>util.py</code> called <code>read_osm_data</code>
(which has been imported into <code>lab.py</code> for you).  Calling <code>read_osm_data</code> with
a filename will produce an object over which you can loop to examine each
node/way in turn.  For example, you could use the following code to print all
of the nodes in this database:</p>
<pre><code class="language-py">for node in read_osm_data('resources/cambridge.nodes'):
    print(node)
</code></pre>
<p>One important thing worth noting is that this object can only be looped over
once (looping over the same data again would require calling <code>read_osm_data</code>
again).</p>
<p>You can also get a single element out of this object using Python's built-in
<code>next</code> function (if you want to grab a single entry rather than looping over the
whole structure), for example:</p>
<pre><code class="language-py">data = read_osm_data('resources/cambridge.nodes')
print(next(data))
</code></pre>
<p>Each node (representing a location) is represented as a dictionary containing the following keys:</p>
<ul>
<li><code>'id'</code> maps to an integer ID number for the node.</li>
<li><code>'lat'</code> maps to the node's latitude (in degrees).</li>
<li><code>'lon'</code> maps to the node's longitude (in degrees).</li>
<li><code>'tags'</code> maps to a dictionary containing additional information about the node, including
information about the type of object represented by the node (traffic lights,
speed limit signs, etc.).</li>
</ul>
<p>Each way (representing an ordered sequence of connected nodes) is represented as a dictionary with the following keys:</p>
<ul>
<li><code>'id'</code> maps to an integer ID number for the way.</li>
<li><code>'nodes'</code> maps to a list of integers representing the nodes that comprise the way (in order).</li>
<li><code>'tags'</code> maps to a dictionary containing additional information about the way
(e.g., is this a one-way street? is it a highway or a pedestrian path? etc.).</li>
</ul>
<p>Try printing out the nodes and ways to get a sense for the kind of information
that is available there and then use Python to answer the following questions
about the database.</p>
<p>
<!--START question q000000 -->
<div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
How many total <strong>nodes</strong> are in the database?<br/>
(Hint: it may take a long time and use a large amount of memory to make a big list containing all the nodes; try looping over the result from <code>read_osm_data</code> instead).<br/><input id="q000000" name="q000000" size="50" type="text" value=""/>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper">
<span id="q000000_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000000_score_display"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div id="q000000_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Monday September 28, 2020 at 11:00:00 AM Eastern time.</span></div>
<!--END question q000000 -->
</p>
<p>
<!--START question q000001 -->
<div class="question question-pythonic" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
Some of the nodes have a name associated with them (by virtue of having a <code>'name'</code> entry in their <code>'tags'</code> dictionary).  How many of the nodes have a name?<br/><input id="q000001" name="q000001" size="50" type="text" value=""/>
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper">
<span id="q000001_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000001_score_display"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div id="q000001_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Monday September 28, 2020 at 11:00:00 AM Eastern time.</span></div>
<!--END question q000001 -->
</p>
<p>
<!--START question q000002 -->
<div class="question question-pythonic" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
What is the ID number of the node named <code>'77 Massachusetts Ave'</code>?<br/><input id="q000002" name="q000002" size="50" type="text" value=""/>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper">
<span id="q000002_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000002_score_display"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div id="q000002_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Monday September 28, 2020 at 11:00:00 AM Eastern time.</span></div>
<!--END question q000002 -->
</p>
<p>
<!--START question q000003 -->
<div class="question question-pythonic" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
How many total <strong>ways</strong> are in the database?<br/><input id="q000003" name="q000003" size="50" type="text" value=""/>
</div><div>
<span id="q000003_buttons"></span>
<span id="q000003_loading_wrapper">
<span id="q000003_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000003_score_display"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left"></div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div id="q000003_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Monday September 28, 2020 at 11:00:00 AM Eastern time.</span></div>
<!--END question q000003 -->
</p>
<p>
<!--START question q000004 -->
<div class="question question-pythonic" id="cs_qdiv_q000004" style="position: static">
<div id="q000004_rendered_question">
How many of these are one-way streets?
(Hint: look at the value associated with the <code>'oneway'</code> key in the <code>'tags'</code> dictionary if it exists to make a decision; if that key doesn't exist, assume the road is two-way)<br/><input id="q000004" name="q000004" size="50" type="text" value=""/>
</div><div>
<span id="q000004_buttons"></span>
<span id="q000004_loading_wrapper">
<span id="q000004_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000004_score_display"></span>
<div class="nsubmits_left" id="q000004_nsubmits_left"></div></div>
<div id="q000004_solution_container">
<div id="q000004_solution">
</div>
<div id="q000004_solution_explanation">
</div>
</div>
<div id="q000004_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Monday September 28, 2020 at 11:00:00 AM Eastern time.</span></div>
<!--END question q000004 -->
</p>
<p>This might give you a sense of the scale of the database we're working with;
there's a lot of information here!</p>
<p><a class="anchor" name="catsoop_section_2_2"></a><a class="anchor" name="_testing"></a><h3 class="cs_section_title">2.2) Testing<a class="cs_permalink" href="#_testing">§</a></h3></p>
<p>We have provided three datasets for you to work with as you are testing your
code, along with a visualization (see <a href="#_visualization">section
4.2</a>).</p>
<p>As you are debugging, you may primarily wish to make use of the <code>mit</code> data set
(containing some manually constructed nodes and ways), which is relatively
small compared to the others (to the extent that it should be possible to
compute some relevant results manually after printing out the nodes and ways
contained therein).  An image of the MIT dataset is shown below (click to see a larger version):</p>
<center>
<a href="https://py.mit.edu/_static/fall20/labs/lab4/map.jpg" target="_blank"><img src="https://py.mit.edu/_static/fall20/labs/lab4/map.jpg" style="width: 600px;max-width: 100% !important"/></a>
</center>
<p><code>midwest</code> is quite a bit larger, so it may not be possible to compute
results manually from it, but it should load relatively quickly, so it can be used for
testing on a slightly larger scale (using the visualization, for example).</p>
<p><code>cambridge</code> is <em>really</em> big, and so working with it can take a while.  As such,
you may not want to do too much testing with it until you are reasonably sure
that things are working.  However, once things <em>are</em> working, it can be neat to
plan paths through Cambridge and the surrounding area using the visualization.</p>
<a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_shortest_paths"></a><h2 class="cs_section_title">3) Shortest Paths<a class="cs_permalink" href="#_shortest_paths">§</a></h2>
<p>Now that we've had a chance to get used to the format of the data set, we'll
embark on our first of two tasks for the lab: finding the shortest path between
two nodes.  Ultimately, we will implement this as a function <code>find_short_path_nodes</code>
in <code>lab.py</code>.  This function takes three arguments:</p>
<ul>
<li><code>aux_structures</code>: some structures of your creation (see below)</li>
<li><code>id1</code>: the ID of our starting node</li>
<li><code>id2</code>: the ID of our ending node</li>
</ul>
<p>We are interested in returning the shortest path (in miles) between those two
locations.</p>
<p>Ultimately, <code>find_short_path_nodes</code> should return a list of IDs (each corresponding
to a single node) representing a path between the two given locations, where
each pair of adjacent nodes must be connected by a way.  If no such path
exists, you should return <code>None</code>.</p>
<p>You can make use of the ideas introduced in the week 4 lecture or look
<a href="https://py.mit.edu/fall20/labs/lab4/min_cost_path">here</a> for a brief overview of one appropriate
algorithm.</p>
<p><a class="anchor" name="catsoop_section_3_1"></a><a class="anchor" name="_design_considerations"></a><h3 class="cs_section_title">3.1) Design Considerations<a class="cs_permalink" href="#_design_considerations">§</a></h3></p>
<p>This procedure is fairly complicated, and so are the data we're given, so we'll
clarify a few things and make a few small simplifying assumptions, as indicated
below.</p>
<p><a class="anchor" name="catsoop_section_3_1_1"></a><a class="anchor" name="_road_types"></a><h4 class="cs_section_title" id="catsoop_label_road_types" label="road_types">3.1.1) Road Types<a class="cs_permalink" href="#_road_types">§</a></h4></p>
<p>The datasets we're working with contain information not only about roadways,
but also about bicycle paths, pedestrian paths, buildings, etc.  Since we are
(for now, at least) planning paths for cars only, we will only consider a way
to be valid for our purposes if it is a roadway (we're responsible citizens of
the world, so we won't drive on a bike path or a pedestrian-only walkway).</p>
<p>Some ways in the dataset have a tag called <code>'highway'</code>, indicating that the
path represents a path people can use to travel (as opposed to the outline of a
building, a river, the outline of a park, etc.).  We will use this tag to decide
what kinds of ways to include in our results.</p>
<p>In particular, we'll only consider a way as part of our path-planning process if:</p>
<ul>
<li>it has a <code>'highway'</code> tag, <strong>and</strong></li>
<li>its <code>'highway'</code> tag is in the <code>ALLOWED_HIGHWAY_TYPES</code> set that is defined at
the top of <code>lab.py</code>.</li>
</ul>
<p>Ways that don't have these properties should be ignored completely.</p>
<p><a class="anchor" name="catsoop_section_3_1_2"></a><a class="anchor" name="_connectedness"></a><h4 class="cs_section_title">3.1.2) Connectedness<a class="cs_permalink" href="#_connectedness">§</a></h4></p>
<p>We will assume that we can travel from a node to another node if and only if
there is a way that connects them.  For example, if we have the following two
ways in the database:</p>
<pre><code class="language-py">w1 = {'id': 1, 'nodes': [1, 2, 3], 'tags': {}}
w2 = {'id': 2, 'nodes': [5, 6, 7], 'tags': {'oneway': 'yes'}}
</code></pre>
<p>then moving from node <code>1</code> to node <code>2</code>, from <code>2</code> to <code>3</code>, from <code>3</code> to <code>2</code>, or
from <code>2</code> to <code>1</code> are all OK because <code>w1</code> represents a bidirectional street.
But, while moving from <code>5</code> to <code>6</code> or from <code>6</code> to <code>7</code> are OK, moving from <code>7</code> to
<code>6</code> or from <code>6</code> to <code>5</code> are <strong>not</strong> OK because <code>w2</code> represents a one-way street
(we're responsible citizens of the world, so we respect one-way restrictions).</p>
<p>Note that moving directly from node <code>1</code> to node <code>3</code> is <strong>not</strong> possible given
the above, unless there is another way that directly connects those two nodes.</p>
<p>As we're planning paths between nodes, we'll want to make sure that we only
consider a node as a possibility if it exists as part of a way (we can ignore
all other nodes in the database).</p>
<p><a class="anchor" name="catsoop_section_3_1_3"></a><a class="anchor" name="_distance_measure"></a><h4 class="cs_section_title">3.1.3) Distance Measure<a class="cs_permalink" href="#_distance_measure">§</a></h4></p>
<p>Throughout this lab, we will use an approximation for distance (in miles) that
takes into account the approximate curvature of the earth.  This approximation
has been defined as a function <code>great_circle_distance</code> in <code>util.py</code> (and it has
been imported into <code>lab.py</code> for your use).</p>
<p><strong>You should not use any other distance measure for this lab</strong>, as the test
cases expect you to use this measure of distance.</p>
<p>
<!--START question q000005 -->
<div class="question question-pythonic" id="cs_qdiv_q000005" style="position: static">
<div id="q000005_rendered_question">
What is the distance (in miles) between the following two locations, specified in terms of latitude and longitude?<br/>
Location 1: <code>(42.363745, -71.100999)</code><br/>
Location 2: <code>(42.361283, -71.239677)</code><br/> <br/>
Enter your answer as accurately as Python provides it to you; don't round!<br/><input id="q000005" name="q000005" size="50" type="text" value=""/>
</div><div>
<span id="q000005_buttons"></span>
<span id="q000005_loading_wrapper">
<span id="q000005_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000005_score_display"></span>
<div class="nsubmits_left" id="q000005_nsubmits_left"></div></div>
<div id="q000005_solution_container">
<div id="q000005_solution">
</div>
<div id="q000005_solution_explanation">
</div>
</div>
<div id="q000005_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 02, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000005 -->
</p>
<p>
<!--START question q000006 -->
<div class="question question-pythonic" id="cs_qdiv_q000006" style="position: static">
<div id="q000006_rendered_question">
In the <code>midwest</code> dataset, what is the distance (in miles) between the nodes with the following ID numbers?<br/>
ID 1: <code>233941454</code><br/>
ID 2: <code>233947199</code><br/><input id="q000006" name="q000006" size="50" type="text" value=""/>
</div><div>
<span id="q000006_buttons"></span>
<span id="q000006_loading_wrapper">
<span id="q000006_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000006_score_display"></span>
<div class="nsubmits_left" id="q000006_nsubmits_left"></div></div>
<div id="q000006_solution_container">
<div id="q000006_solution">
</div>
<div id="q000006_solution_explanation">
</div>
</div>
<div id="q000006_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 02, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000006 -->
</p>
<p>
<!--START question q000007 -->
<div class="question question-pythonic" id="cs_qdiv_q000007" style="position: static">
<div id="q000007_rendered_question">
In the <code>midwest</code> dataset, there is a way with ID number <code>21705939</code>.  If we were to follow that way from its beginning node to its ending node (and through all the intermediate nodes), how many miles would we have traveled?<br/><input id="q000007" name="q000007" size="50" type="text" value=""/>
</div><div>
<span id="q000007_buttons"></span>
<span id="q000007_loading_wrapper">
<span id="q000007_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000007_score_display"></span>
<div class="nsubmits_left" id="q000007_nsubmits_left"></div></div>
<div id="q000007_solution_container">
<div id="q000007_solution">
</div>
<div id="q000007_solution_explanation">
</div>
</div>
<div id="q000007_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 02, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000007 -->
</p>
<p><a class="anchor" name="catsoop_section_3_2"></a><a class="anchor" name="_auxiliary_data_structures"></a><h3 class="cs_section_title">3.2) Auxiliary Data Structures<a class="cs_permalink" href="#_auxiliary_data_structures">§</a></h3></p>
<p>As we saw in Lab 3, the choice of internal data structures is going to be
important (in fact, this is even more true in this lab, which makes use of a
<em>lot</em> more data than Lab 3).</p>
<p>As such, you are free to create whatever data structures you like by filling in
the <code>build_auxiliary_structures</code> function in <code>lab.py</code>.  The object returned by
this function will be passed in as the first argument to your path-finding
functions.</p>
<p>The ultimate goal of these auxiliary structures is to be able to answer
questions quickly about the data that we'll need to answer repeatedly (without looping
over the whole dataset).  We set things up this way so that we can build these
structures once and then use them multiple times to compute various results.
As such, it is OK for this function to be a bit slow, so long as it saves time
during the actual search process.</p>
<p>However, it may not be possible to store all of the nodes or all of the ways
in memory (so if there are nodes and/or ways that you know will be irrelevant,
you should not store them in memory).</p>
<p><a class="anchor" name="catsoop_section_3_3"></a><a class="anchor" name="_testing_2"></a><h3 class="cs_section_title">3.3) Testing<a class="cs_permalink" href="#_testing_2">§</a></h3></p>
<p>After implementing <code>find_short_path_nodes</code>, your code should pass the first 12
test cases in <code>test.py</code>.</p>
<a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_starting_and_ending_points"></a><h2 class="cs_section_title">4) Starting and Ending Points<a class="cs_permalink" href="#_starting_and_ending_points">§</a></h2>
<p>Often, when we are interested in path planning in real geographical contexts,
our given starting point might not actually be a known point of interest (for
example, it might be a location specified by GPS).</p>
<p>To this end, we will augment our system so that it can accept arbitrary
locations for the starting and ending points, specified as <code>(latitude, longitude)</code> tuples.</p>
<p>We will do this by implementing a new function <code>find_short_path</code> in <code>lab.py</code>.
This function should take three arguments:</p>
<ul>
<li><code>aux_structures</code>: the result of calling your <code>build_auxiliary_structure</code> function (see above)</li>
<li><code>loc1</code>: a tuple of (latitude, longitude) of our starting location</li>
<li><code>loc2</code>: a tuple of (latitude, longitude) of our ending location</li>
</ul>
<p>And this function should return a list of <code>(latitude, longitude)</code> tuples
connecting the start and end location.</p>
<p>It is entirely possible that the locations passed to <code>find_short_path</code> will not
correspond exactly to nodes in the dataset.  As such, we will instead plan our
shortest paths as follows, where a "relevant" way refers to any way that we will
actually consider in our path planning (i.e., one that has not been ignored
by the rules in <a href="#_road_types">section 3.1.1</a>):</p>
<ul>
<li>finding the nearest node to <code>loc1</code> that is part of a relevant way (call this node <span class="cs_math_to_render">n_1</span>)</li>
<li>finding the nearest node to <code>loc2</code> that is part of a relevant way (call this node <span class="cs_math_to_render">n_2</span>)</li>
<li>finding the shortest path from <span class="cs_math_to_render">n_1</span> to <span class="cs_math_to_render">n_2</span> (in terms of miles)</li>
<li>convert the resulting path into (latitude, longitude) tuples.</li>
</ul>
<p>After finding <span class="cs_math_to_render">n_1</span> and <span class="cs_math_to_render">n_2</span>, we will ignore <code>loc1</code> and <code>loc2</code> completely
during the search process.  They should not show up in the path, and they
should not be considered when computing the total distance represented by the
path.</p>
<p>
<!--START question q000008 -->
<div class="question question-pythonic" id="cs_qdiv_q000008" style="position: static">
<div id="q000008_rendered_question">
In the <code>midwest</code> dataset, what is the ID number
of the nearest relevant node to location <code>(41.4452463, -89.3161394)</code>, i.e., the
nearest node to that location that is part of a way we'll actually consider in
our path-planning?<br/><input id="q000008" name="q000008" size="50" type="text" value=""/>
</div><div>
<span id="q000008_buttons"></span>
<span id="q000008_loading_wrapper">
<span id="q000008_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000008_score_display"></span>
<div class="nsubmits_left" id="q000008_nsubmits_left"></div></div>
<div id="q000008_solution_container">
<div id="q000008_solution">
</div>
<div id="q000008_solution_explanation">
</div>
</div>
<div id="q000008_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 02, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000008 -->
</p>
<p><a class="anchor" name="catsoop_section_4_1"></a><a class="anchor" name="_testing_3"></a><h3 class="cs_section_title">4.1) Testing<a class="cs_permalink" href="#_testing_3">§</a></h3></p>
<p>After implementing <code>find_short_path</code>, your code should pass the first 26 test
cases in <code>test.py</code>.</p>
<p><a class="anchor" name="catsoop_section_4_2"></a><a class="anchor" name="_visualization"></a><h3 class="cs_section_title" id="catsoop_label_viz" label="viz">4.2) Visualization<a class="cs_permalink" href="#_visualization">§</a></h3></p>
<p>As with the last lab, we have provided a web-based interface that acts as
a visualization for your code.</p>
<p>Here, we use <a href="https://leafletjs.com/">leaflet</a> to display map data from the
Wikimedia foundation (more information about their Maps service is available
<a href="https://foundation.wikimedia.org/wiki/Maps_Terms_of_Use">here</a>).</p>
<p>You can start the server by running <code>server.py</code> but providing the filename of
one of the datasets as an argument, for example:</p>
<pre><code class="language-nohighlight">python3 server.py midwest
</code></pre>
<p>or</p>
<pre><code class="language-nohighlight">python3 server.py cambridge
</code></pre>
<p>(If you are not using a terminal to run your code, you can replace
<code>sys.argv[1]</code> in <code>server.py</code> with a hard-coded name of a dataset, like
<code>'midwest'</code>, which you can then change later to load in different datasets.)</p>
<p>This process will first build up the necessary auxiliary structures for
pathfinding by calling your <code>build_auxiliary_structures</code> function, and then it
will start a server.  After the server has successfully started, you can interact with this
application by navigating to <code>http://localhost:6009/</code> in your web browser.  In
that view, you can double-click on two locations to find and display a path
between them.</p>
<p>Alternatively, you can manually call your path-finding procedure to generate a
path and then pass its path to the provided <code>to_local_kml_url</code> function to
receive a URL that will initialize to display the resulting path.  For example,
to show a path from Adam H's high school to Timber Edge Alpaca Farms (where
he worked in high school), you could run the following:</p>
<pre><code class="language-py">phs = (41.375288, -89.459541)
timber_edge = (41.452802, -89.443683)
aux = build_auxiliary_structures('resources/midwest.nodes', 'resources/midwest.ways')
print(to_local_kml_url(find_short_path(aux, phs, timber_edge)))
</code></pre>
<p>which should print out a URL that, when pasted into the browser, shows the path
you found (assuming the server is running).  If you started the server with the
<code>midwest</code> dataset loaded, you can then double-click around that area to find
other paths.</p>
<a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_improving_runtime_with_heuristics"></a><h2 class="cs_section_title">5) Improving Runtime With Heuristics<a class="cs_permalink" href="#_improving_runtime_with_heuristics">§</a></h2>
<p>By now, your code should be working for planning paths, and it should be passing
the test cases associated with <code>find_short_path</code>.  In this section, we'll
introduce an optimization that will allow us to speed up our searches while
retaining the optimality of the paths we return.</p>
<p>The method for finding minimum-cost paths described on the page linked above
involves searching radially outward from a starting point in terms of
increasing cost, but it does not take into account information about where the
goal is, and so it can waste time considering paths that don't really make
sense (for example, paths that move off in the wrong direction, away from the
goal position).</p>
<p>We consider those paths because our search process was deciding which paths to
consider based on the total cost of the path so far, let's call it <span class="cs_math_to_render">g(n)</span>:</p>
<p><span style="margin-left: 3em"><span class="cs_math_to_render">g(n)</span> = the path cost from the starting node to node <span class="cs_math_to_render">n</span></span></p>
<p>When we have multiple paths we could consider, we always start with the one
that has the smallest <span class="cs_math_to_render">g(n)</span> value (the shortest total distance in miles), with
no regard for whether that path was moving in a sensible direction or not.
While this does guarantee that we end up with an optimal path, it wastes time.</p>
<p>We can do a bit better by introducing the notion of a <em>heuristic function</em>
<span class="cs_math_to_render">h(n)</span>:</p>
<p><span style="margin-left: 3em"><span class="cs_math_to_render">h(n)</span> = the estimated cost of the lowest-cost path from node <span class="cs_math_to_render">n</span> to the goal node</span></p>
<p>From this, we can derive a new function:</p>
<p><span style="margin-left: 3em"><span class="cs_math_to_render">f(n) = g(n) + h(n)</span></span></p>
<p>Because <span class="cs_math_to_render">g(n)</span> represents the path cost from the start node to node <span class="cs_math_to_render">n</span>, and
<span class="cs_math_to_render">h(n)</span> is the estimated cost of the lowest-cost path from <span class="cs_math_to_render">n</span> to the goal, we
have:</p>
<p><span style="margin-left: 3em"><span class="cs_math_to_render">f(n)</span> = the estimated cost of the lowest-cost solution involving <span class="cs_math_to_render">n</span></span></p>
<p>Because the total cost of the path is the thing we're trying to optimize, we
can make a slight change to the algorithm from above: when we have multiple
paths to consider, we should always choose the one with the lowest <span class="cs_math_to_render">f(n)</span> value
as the next path to be considered (i.e., the one with the lowest estimated
total path cost).  By so doing, we can focus our attention on paths that kind
of move toward the goal, and we avoid wasting time considering other paths.
The most effective heuristics will be easy to compute but will be reasonably
accurate estimates of the cost of the optimal path to the goal.</p>
<p>Note that the introduction of a heuristic does not change the <strong>cost</strong> of the
paths, only the order in which we consider the various paths.</p>
<p><a class="anchor" name="catsoop_section_5_1"></a><a class="anchor" name="_heuristics_and_optimality"></a><h3 class="cs_section_title">5.1) Heuristics and Optimality<a class="cs_permalink" href="#_heuristics_and_optimality">§</a></h3></p>
<p>Interestingly, as long as we're careful with the design of our heuristics, we
can get this benefit without sacrificing the optimality of the path we return,
so long as our heuristic has a couple of properties, which we call
<em>admissibility</em> and <em>consistency</em>:</p>
<ul>
<li>
<p>a heuristic is <em>admissible</em> if it never overestimates the cost of the optimal path from any node to the goal, i.e., for all nodes <span class="cs_math_to_render">n</span>:</p>
<p><span class="cs_math_to_render">h(n) \leq c^*(n)</span></p>
<p>where <span class="cs_math_to_render">c^*(n)</span> represents the actual cost of the least-cost path to the goal.</p>
</li>
<li>
<p>a heuristic is <em>consistent</em> if the value of the heuristic never increases as we get closer to the goal.  More precisely, a heuristic is consistent if, for each node <span class="cs_math_to_render">n</span> and each successor <span class="cs_math_to_render">n'</span> of that node, the heuristic evaluated at <span class="cs_math_to_render">n</span> is no more than the heuristic evaluated at <span class="cs_math_to_render">n'</span> plus the cost of traveling directly from <span class="cs_math_to_render">n</span> to <span class="cs_math_to_render">n'</span>:</p>
<p><span class="cs_math_to_render">h(n) \leq c(n, n') + h(n')</span></p>
</li>
</ul>
<p>If these two properties hold for our heuristic function <span class="cs_math_to_render">h(n)</span>, then we are
guaranteed that we will still find an optimal path if we sort our agenda
according to <span class="cs_math_to_render">f(n) = g(n) + h(n)</span>.</p>
<p><a class="anchor" name="catsoop_section_5_2"></a><a class="anchor" name="_a_heuristic_for_this_problem"></a><h3 class="cs_section_title">5.2) A Heuristic For This Problem<a class="cs_permalink" href="#_a_heuristic_for_this_problem">§</a></h3></p>
<p>Given the above, a reasonable heuristic in this domain is the distance directly
from the given node to the goal node:</p>
<p><span style="margin-left: 3em;"><span class="cs_math_to_render">h(n) = \mathtt{great\_circle\_distance}(n, \text{goal})</span></span></p>
<p>This function provides a decent estimate of our overall cost, it is admissible
and consistent, and it is pretty fast to compute.  As such, we should expect
that it will do a decent job of improving the efficiency of our search
procedure.</p>
<p>To test this theory, try running a search between the following two locations
using the <code>cambridge</code> dataset, both <em>with</em> and <em>without</em> the heuristic, and
make note of <em>the total number of paths we pull off of the agenda in each
case</em>.  How do those two numbers differ?</p>
<ul>
<li>Location 1: <code>(42.3858, -71.0783)</code></li>
<li>Location 2: <code>(42.5465, -71.1787)</code></li>
</ul>
<p><strong>Be prepared to discuss these results, including how you computed them, during
your checkoff conversation.</strong></p>
<a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_need_for_speed_limits"></a><h2 class="cs_section_title">6) Need for Speed (Limits)<a class="cs_permalink" href="#_need_for_speed_limits">§</a></h2>
<p>So far, our planning has been based purely on distance, but oftentimes, when
planning a route between two locations, we are actually interested in the
amount of <em>time</em> it will take to move from one location to another.</p>
<p>For the last part of this lab, you should implement <code>find_fast_path</code>, which,
unlike <code>find_short_path</code>, should take into account speed limits (we're
responsible citizens of the world, so we won't drive over the speed limit).</p>
<p>Some ways in the dataset store information about the speed limit along that
way.  That said, unfortunately, speed-limit information is somewhat sparse in
OSM data (at least in these datasets), and so we'll have to guess a little bit
for some of the roads.  We have done a little bit of preprocessing of the data
for you, to make extracting this information a little bit easier than it would
otherwise be.</p>
<p>For each way, we'll determine the speed limit as follows:</p>
<ul>
<li>if the way has the <code>'maxspeed_mph'</code> tag, the corresponding value (an integer) represents the speed limit in miles per hour</li>
<li>if that tag does not exist, look up the way's <code>'highway'</code> type in the <code>DEFAULT_SPEED_LIMIT_MPH</code> dictionary and use the corresponding value.</li>
</ul>
<p>If two nodes are connected by more than one way with distinct speed limits, you
should always prefer higher of the two speed limits.</p>
<p>Note that implementing this new function might require changing or reorganizing
your code for <code>find_short_path</code> and/or for <code>build_auxiliary_structures</code>.  Even
if it isn't required for functionality, you may also be presented with
opportunities to refactor your <code>lab.py</code> to avoid duplicated code.</p>
<p><a class="anchor" name="catsoop_section_6_1"></a><a class="anchor" name="_heuristics"></a><h3 class="cs_section_title">6.1) Heuristics<a class="cs_permalink" href="#_heuristics">§</a></h3></p>
<p>With this new notion of optimality, the heuristic function from earlier is no
longer admissible (so we are no longer guaranteed to return an optimal path!).</p>
<p>As such, for this part of the lab, it is fine not to use a heuristic; but you
may find it interesting to try to come up with an effective heuristic that is
admissible and consistent given this new measure of cost, in order to speed up
your search.</p>
<p><a class="anchor" name="catsoop_section_6_2"></a><a class="anchor" name="_visualization_2"></a><h3 class="cs_section_title">6.2) Visualization<a class="cs_permalink" href="#_visualization_2">§</a></h3></p>
<p>If, after starting <code>server.py</code>, you open the following URL in your browser
(note the difference from above), the web UI will use your <code>find_fast_path</code>
instead of <code>find_short_path</code> for pathfinding when double-clicking:</p>
<pre><code class="language-nohighlight">http://localhost:6009/?type=fast
</code></pre>
<p>Try using both this and the shortest-path metric between a few different points
on the Cambridge map.  How would you expect those to differ?  Do your results
match your expectation?</p>
<p><strong>During the checkoff, you will be asked to demonstrate your code running in the UI by finding both the shortest and fastest paths from Waltham, MA (west of Cambridge on the map) to Salem, MA (north and east of Cambridge) using the <code>cambridge</code> data set.  As such, please make sure that you've got the server running with the <code>cambridge</code> dataset loaded when you ask for your checkoff.</strong></p>
<a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_code_submission"></a><h2 class="cs_section_title">7) Code Submission<a class="cs_permalink" href="#_code_submission">§</a></h2>
<p>When you have tested your code sufficiently on your own machine, submit your
modified <code>lab.py</code> below.  Note that your checkoff (including style
considerations) will be based on your most recent submission and that all
aspects of the file will be considered in terms of style, including those that
are not explicitly tested in <code>test.py</code> (for example, any helper functions you
write).</p>
<p>When submitting <code>lab.py</code>, the server will run the tests and report back the
results (including timing).  Submit your <code>lab.py</code> in the box below:</p>
<p>
<!--START question code -->
<div class="question question-lab009" id="cs_qdiv_code" style="position: static">
<div id="code_rendered_question">
<input id="code" name="code" style="display: none" type="file"/><button class="btn btn-catsoop" id="code_select_button">Select File</button> <tt><span id="code_selected_file">No file selected</span></tt>
<script type="text/javascript">
document.getElementById('code').value = '';
document.getElementById('code_select_button').addEventListener('click', function (){
    document.getElementById("code").click();
});
document.getElementById('code').addEventListener('change', function (){
    document.getElementById('code_selected_file').innerText = document.getElementById('code').value;
});
</script>
</div><div>
<span id="code_buttons"></span>
<span id="code_loading_wrapper">
<span id="code_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="code_score_display"></span>
<div class="nsubmits_left" id="code_nsubmits_left"></div></div>
<div id="code_solution_container">
<div id="code_solution">
</div>
<div id="code_solution_explanation">
</div>
</div>
<div id="code_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 02, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question code -->
</p>
<style>
.impsolution{display:none;}
</style>
<a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_checkoff"></a><h2 class="cs_section_title">8) Checkoff<a class="cs_permalink" href="#_checkoff">§</a></h2>
<p>When you are ready, please come to a lab session or office hour and add
yourself to the queue asking for a checkoff.  <strong>You must be ready to discuss
your code in detail before asking for a checkoff.</strong> Since the clarity of your
code will be evaluated as part of the checkoff, you may wish to take some time
to comment your code, use good variable names, avoid repetitive code (create
helper methods), etc.</p>
<p>Be prepared to discuss:</p>
<ul>
<li>What auxiliary data you stored in <code>build_auxiliary_structures</code>, and why.</li>
<li>Your implementation of <code>find_short_path_nodes</code> and <code>find_short_path</code>.</li>
<li>Imagine using a BFS (as discussed in recitation 3) to find shortest paths, instead of this method.  What might we expect to be different about the paths returned from BFS, versus the paths we're returning here?</li>
<li>Your implementation of the heuristic function, and the effect that it had on the number of total paths we considered in the course of our search.</li>
<li>Your implementation of <code>find_fast_path</code>, and how it differs from <code>find_short_path</code>.</li>
<li>Demonstrate your code running in the UI by finding both the shortest and fastest paths from Waltham, MA (west of Cambridge on the map) to Salem, MA (north and east of Cambridge) using the <code>cambridge</code> data set.  What differentiates these paths?  Why do they look the way they do?</li>
</ul>
<p><a class="anchor" name="catsoop_section_8_1"></a><a class="anchor" name="_grade"></a><h3 class="cs_section_title">8.1) Grade<a class="cs_permalink" href="#_grade">§</a></h3></p>
<div class="response"><i>You have not yet received this checkoff.  When you have completed this checkoff, you will see a grade here.</i></div>
<a class="anchor" name="catsoop_section_9"></a><a class="anchor" name="_optional_extra_pieces"></a><h2 class="cs_section_title">9) (Optional) Extra Pieces<a class="cs_permalink" href="#_optional_extra_pieces">§</a></h2>
<p>If you are interested, there are a number of ways you could modify or build on
the code from this lab to do some other kinds of cool things!  Here are a few
ideas, and we're happy to help if you're interested to work on any of these (or
on other ideas of your own!):</p>
<ol>
<li>
<p>Import data from your own home state / home country!  You can download data
from <a href="http://download.bbbike.org/osm/">http://download.bbbike.org/osm/</a> or <a href="https://download.geofabrik.de/">https://download.geofabrik.de/</a>
and use the <code>osm_to_serial_pickle</code> function in <code>util.py</code> to get convert the
data to the format used in this lab.</p>
<p>But be warned that if you're importing data from  a country that uses a
sensible measure of speed like <code>kph</code>, the speed limit calculations might be a
bit off, since they assume MPH...so that might require some other adjustments.</p>
</li>
<li>
<p>Implement an admissible heuristic for the version of the code that takes
speed limits into account.</p>
</li>
<li>
<p>Use the route planning for bicycles or pedestrians rather than motorists
by modifying the "highway" types that are allowed.  See <a href="https://wiki.openstreetmap.org/wiki/Key:highway">this page</a> for
a list of "highway" types, and note also that many ways contain information about bicycle travel.</p>
<p>Note that you probably won't be able to implement the 'speed limit'
behavior in this case :)</p>
</li>
<li>
<p>Often times, there are considerations other than speed limit that factor in
to what makes a path desirable.  You could take this into account by
introducing a penalty (in terms of cost) for paths that move through nodes
that are labeled as traffic lights, or for any time we transition between
ways, or something like that.</p>
</li>
<li>
<p>Depending on how you implemented your search process, you might have been
storing <code>(cost, path)</code> tuples or something like that, and using <code>sort</code> to
sort that list each time through a loop.  While this definitely works, there
are ways to make that process much more efficient, in particular by using
the structures from the <a href="https://docs.python.org/3.8/library/heapq.html"><code>heapq</code></a>
module, which provides a nice set of abstractions for maintaining a sorted
list of items efficiently (you are welcome to import this module if you wish).</p>
</li>
<li>
<p>Depending on how you implemented things, you may find that a lot of the time
spent planning paths between two locations is actually spent looking up the
two nodes that we want to use as our starting and ending points.  So you
might try to find a way to speed that process up.</p>
</li>
<li>
<p>As it currently stands, we are ignoring a large class of tags called
"relations" in the OSM data, which include restrictions on driving such as
"no left turns." You could try modifying your code to take these relations
into account.</p>
</li>
</ol>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['q000000', 'q000001', 'q000002', 'q000003', 'q000004', 'q000005', 'q000006', 'q000007', 'q000008', 'code'];
catsoop.username = null;
catsoop.api_token = null;
catsoop.this_path = 'https://py.mit.edu/fall20/labs/lab4';
catsoop.path_info = ['fall20', 'labs', 'lab4'];
catsoop.course = 'fall20';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<br/> <hr/><b name="cs_footnotes">Footnotes</b><p><a class="anchor" name="catsoop_footnote_1"></a><sup style="padding-right:0.25em;color:var(--cs-base-bg-color);">1</sup>All of
the software and data we are working with in this lab is freely available,
including the mapping data, the images used to render the maps, and the
software used to control the map display!  In fact, a lot of the world's
most widely used software is created in this same spirit of sharing and
community.  If you are interested in exploring the philosophical ideas behind
these movements, a place to start would be the Wikipedia articles on the
<a href="https://en.wikipedia.org/wiki/Free_software" target="_blank">Free/Libre Software</a> and <a href="https://en.wikipedia.org/wiki/Free-culture_movement" target="_blank">Free-culture</a> movements.  Or talk with Adam H (who is
passionately interested in these ideas). <a href="#catsoop_footnote_ref_1"><span class="noprint">(click to return to text)</span></a></p>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab4">Lab 4: Frugal Maps</a></span></div>
<div class="cs_footer">
      This page was last updated on Friday September 25, 2020 at 11:00:11 AM (revision <code>7052bd1c</code>).<br/> <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu" target="_blank">CAT-SOOP</a> v2021.2.0.dev1971+hg ("Devon Rex" development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

