<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 2021.2.0.dev1971+hg.  miau. -->
<meta charset="utf-8"/>
<title>Lab 0: Audio Processing | 6.009 Fall 2020</title>
<link href="https://py.mit.edu/_static/fall20/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="https://py.mit.edu/_static/_base/scripts/katex/katex.min.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/katex/katex.min.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/scripts/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/scripts/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<!-- CodeMirror -->
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/mode/python/python.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldcode.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/indent-fold.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.css" rel="stylesheet"/>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.css" rel="stylesheet"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/fall20"><img src="https://py.mit.edu/_static/fall20/logo.gif"/>ย6.009</a></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/information">Information/Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/progress">Progress</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_e92315598caf37074f1c2542f0bc9c06">Help<span class="downarrow">โผ</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_e92315598caf37074f1c2542f0bc9c06" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/forum">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/python">Accessing/Installing Python</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/otherhelp">Other Help</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/labs/lab0?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">โฐ</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab0">Lab 0: Audio Processing</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Lab 0: Audio Processing</h1></center>
<center>The questions below are due on Friday September 04, 2020; 04:00:00 PM.<br/>ย<br/></center><div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
If you are a current student, please <a href="https://py.mit.edu/fall20/labs/lab0?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2>Table of Contents</h2><ul><li><a href="#_infrastructure">1) Infrastructure</a></li><ul><li><a href="#_necessary_software">1.1) Necessary Software</a></li><li><a href="#_the_command_line">1.2) The Command Line</a></li><li><a href="#_running_tests">1.3) Running Tests</a></li><li><a href="#_submitting_code">1.4) Submitting Code</a></li><li><a href="#_checkoff">1.5) Checkoff</a></li></ul><li><a href="#_preparation">2) Preparation</a></li><li><a href="#_lab_introduction">3) Lab Introduction</a></li><li><a href="#_representing_sound">4) Representing Sound</a></li><ul><li><a href="#_python_representation">4.1) Python Representation</a></li></ul><li><a href="#_manipulations">5) Manipulations</a></li><ul><li><a href="#_backwards_audio">5.1) Backwards Audio</a></li><li><a href="#_mixing_audio">5.2) Mixing Audio</a></li><li><a href="#_echo">5.3) Echo</a></li><li><a href="#_pan">5.4) Pan</a></li><li><a href="#_removing_vocals_from_music">5.5) Removing Vocals from Music</a></li></ul><li><a href="#_code_submission">6) Code Submission</a></li><li><a href="#_checkoff_2">7) Checkoff</a></li><ul><li><a href="#_grade">7.1) Grade</a></li></ul><li><a href="#_optional_additional_extensions">8) (Optional) Additional Extensions</a></li></ul>
<p>Welcome to 6.009!  As this is our first lab, part of the time will be spent
helping you familiarize yourself with the structure of a 6.009 lab and with
the associated infrastructure.  As such, compared to a normal lab, this lab is
a bit smaller in terms of scope and scale.</p>
<a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_infrastructure"></a><h2 class="cs_section_title">1) Infrastructure<a class="cs_permalink" href="#_infrastructure">ยง</a></h2>
<p><a class="anchor" name="catsoop_section_1_1"></a><a class="anchor" name="_necessary_software"></a><h3 class="cs_section_title">1.1) Necessary Software<a class="cs_permalink" href="#_necessary_software">ยง</a></h3></p>
<p>This lab assumes you have Python 3.6 or later installed on your machine.  If
you don't already have Python installed, or if you wish to upgrade, please
follow our instructions for <a href="https://py.mit.edu/fall20/python">accessing/installing Python</a> on
your operating system of choice before proceeding.</p>
<p>You will also need a program for editing your Python source files.
Depending on where you learned Python and how far along you are, you may or may
not already have a preferred <a href="https://en.wikipedia.org/wiki/Text_editor">text
editor</a> (or <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">Integrated Development
Environment</a>)
for working with Python code.  If you already have something you are familiar
with, feel free to use that!  If not, we recommend using the "IDLE" program
(which is included with most Python installations) for editing your files.</p>
<p><a class="anchor" name="catsoop_section_1_2"></a><a class="anchor" name="_the_command_line"></a><h3 class="cs_section_title">1.2) The Command Line<a class="cs_permalink" href="#_the_command_line">ยง</a></h3></p>
<p>Throughout 6.009, our instructions for labs will often refer to using your
computer's <em>command line</em> (or "<em>shell</em>" or "<em>terminal</em>") to run programs.  We
don't expect you to be familiar with using the command line, and we'll try our
best to explain exactly what needs to be done when you do need to use the
command line.  However, you may find it helpful to familiarize yourself with
some <a href="https://py.mit.edu/fall20/notes/command_line">command line basics</a> before continuing on.</p>
<p>Although learning to use the command line is well worth the effort in the long
run, it can be daunting when you're first getting started, so don't worry if
things don't come naturally at first.  Of course, feel free to ask at office
hours (or via the forum) if you need help!</p>
<p><a class="anchor" name="catsoop_section_1_3"></a><a class="anchor" name="_running_tests"></a><h3 class="cs_section_title">1.3) Running Tests<a class="cs_permalink" href="#_running_tests">ยง</a></h3></p>
<p>For all labs, you will also need the
<a href="https://docs.pytest.org/en/latest/"><code>pytest</code></a> module installed to run our test
cases.  Certain labs may have additional requirements, but for today, <code>pytest</code>
is all we'll need.  You can install <code>pytest</code> from the command line using a
command like the following:</p>
<pre><code class="language-bash">$ pip3 install pytest
</code></pre>
<p>(depending on your setup, you may need to type <code>pip</code> instead of <code>pip3</code>; or you
may need to include <code>sudo</code> at the front, i.e. <code>sudo pip3 install pytest</code>)</p>
<p>After having done so, if you make a small Python file containing only the line
<code>import pytest</code>, then evaluating that file with Python should work without
error.</p>
<p>For all of our labs, we will include a file called <code>test.py</code>; when you run this
file (either from the command line or from some other environment), it runs your
code through several test cases and shows you the results.</p>
<p>Running <code>pytest test.py</code> will run all of the test cases in the file, but you
can modify the behavior (including running only a subset of the test cases)
as described in <a href="https://py.mit.edu/fall20/notes/command_line#_running_pytest">this section (about <code>pytest</code>) in the notes about the command line</a>.</p>
<p>Note that some of the smaller tests might be useful not only for testing, but
also for help with understanding the specification for a given piece of code.</p>
<p><a class="anchor" name="catsoop_section_1_4"></a><a class="anchor" name="_submitting_code"></a><h3 class="cs_section_title">1.4) Submitting Code<a class="cs_permalink" href="#_submitting_code">ยง</a></h3></p>
<p>As mentioned above, we will distribute a suite of tests with each lab, and you
can use this file to test your code for correctness as often as you like.</p>
<p>Once your code passes these test cases on your machine, you should submit your
code to the server to be checked.  After submitting your code, you will receive
feedback on the results of the tests on our server.  Your grade for the lab
will depend on how many test cases your code passes on the server.</p>
<p><a class="anchor" name="catsoop_section_1_5"></a><a class="anchor" name="_checkoff"></a><h3 class="cs_section_title">1.5) Checkoff<a class="cs_permalink" href="#_checkoff">ยง</a></h3></p>
<p>In order to receive credit for a lab, you must also complete the associated
"checkoff," which is a brief conversation with a staff member about your code.
We will ask some questions about your code and also provide some feedback on
<a href="https://py.mit.edu/fall20/notes/style">style</a>.  The checkoff can also be a good opportunity to
learn new Python tricks and alternative ways of aproaching the lab!</p>
<p>Note that your checkoff will be based on the most recent code you have
submitted, so if you make stylistic changes, etc., it is worth resubmitting
your updated code so that we can discuss it during the checkoff.</p>
<p>Note that, per the lateness policy, submitting style changes after the deadline does not incur any lateness penalty, so long as
all previous test cases continue to pass.</p>
<a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">2) Preparation<a class="cs_permalink" href="#_preparation">ยง</a></h2>
<p>As mentioned above, this lab assumes that you have Python 3.6 (or newer)
installed on your machine, as well as <code>pytest</code>.</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a download="lab0.zip" href="https://py.mit.edu/fall20/lab_distribution.zip?path=%5B%22fall20%22%2C+%22labs%22%2C+%22lab0%22%5D"><tt>lab0.zip</tt></a></p>
<p>Most of your changes should be made to <code>lab.py</code>, which you will submit at the
end of this lab.  Importantly, <strong>you should not add any imports to the file</strong>.</p>
<p>You can also see and participate in online discussion about this lab in the <a href="https://py.mit.edu/forum/c/labs/lab-0" target="_blank">"Lab 0"
Category</a> in the forum.</p>
<p>This lab is worth a total of 4 points.  Your score for the lab is based on:</p>
<ul>
<li>answering the questions on this page (1 point),</li>
<li>passing the tests in <code>test.py</code> (2 points), and</li>
<li>a brief "checkoff" conversation with a staff member to discuss your code (1 point).</li>
</ul>
<p><strong>All of the questions on this page, including your code submission, are due at
4 p.m. Eastern Time on Friday, 4 September.  Checkoffs are due at 10 p.m.
Eastern Time on Wednesday, 9 September.</strong></p>
<a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_lab_introduction"></a><h2 class="cs_section_title">3) Lab Introduction<a class="cs_permalink" href="#_lab_introduction">ยง</a></h2>
<p>In this lab, we will be manipulating audio files to produce some neat effects.
This week's distribution contains not only a template file that you should use
for developing your code (<code>lab.py</code>) but also several audio files in the
<code>sounds</code> directory, with names ending with <code>.wav</code> (you can try opening these
files in an audio program to hear their contents).</p>
<p>Over the course of this lab, we will refresh ourselves on some important
features and structures within Python, and we will also familiarize ourselves
with interactions with files on disk (and create some really neat sound effects
as well).</p>
<a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_representing_sound"></a><h2 class="cs_section_title">4) Representing Sound<a class="cs_permalink" href="#_representing_sound">ยง</a></h2>
<p>In physics, when we talk about a sound, we are talking about waves of air
pressure.  When a sound is generated, a sound wave consisting of alternating
areas of relatively high pressure ("compressions") and relatively low air
pressure ("rarefactions") moves through the air.</p>
<p>When we use a microphone to capture a sound digitally, we do so by making
periodic measurements of an electrical signal proportional to
this air pressure.  Each individual measurement (often called a "sample")
corresponds to the air pressure at a single moment in time; by taking repeated
measurements at a constant rate (the "sampling rate," usually measured in terms
of the number of samples captured per second), these measurements together form
a representation of the sound by approximating how the air pressure was
changing over time.</p>
<p>When a speaker plays back that sound, it does so by converting these
measurements back into waves of alternating air pressure (by moving a diaphragm
proportionally to those captured measurements).  In order to faithfully
represent a sound, we need to know two things: both the sampling rate and the
samples that were actually captured.</p>
<p>For sounds recorded in <em>mono</em>, each sample is a positive or negative number
corresponding to the air pressure at a point in time.  For sounds recorded in
<em>stereo</em> (which we will use for this assignment), each sample can be thought of
as consisting of two values: one for the left speaker and one for the right.</p>
<p><a class="anchor" name="catsoop_section_4_1"></a><a class="anchor" name="_python_representation"></a><h3 class="cs_section_title">4.1) Python Representation<a class="cs_permalink" href="#_python_representation">ยง</a></h3></p>
<p>We will be working
with files stored in the <a href="https://en.wikipedia.org/wiki/WAV">WAV</a> format.
However, you won't need to understand that format in detail, as we have
provided some "helper functions" in <code>lab.py</code> to load the information from those
files into a Pythonic format, as well as to take sounds in that Pythonic
representation and save them as WAV files.</p>
<p>Our Pythonic representation of a sound will consist of a dictionary with three
key/value pairs:</p>
<ul>
<li><code>'rate'</code>: the sampling rate (as an <code>int</code>), in units of samples per second</li>
<li><code>'left'</code>: a list containing samples for the left speaker, where each sample is a <code>float</code></li>
<li><code>'right'</code>: a similar list containing samples for the right speaker</li>
</ul>
<p>For example, the following is a valid sound:</p>
<pre><code class="language-py">s = {
    'rate': 8000,
    'left' [0.00, 0.59, 0.95, 0.95, 0.59, 0.00, -0.59, -0.95, -0.95, -0.59],
    'right': [1.00, 0.91, 0.67, 0.31, -0.10, -0.50, -0.81, -0.98, -0.98, -0.81],
}
</code></pre>
<a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_manipulations"></a><h2 class="cs_section_title">5) Manipulations<a class="cs_permalink" href="#_manipulations">ยง</a></h2>
<p>In this lab, we will examine the effects of various kinds of manipulations of
audio represented in this form.</p>
<p><a class="anchor" name="catsoop_section_5_1"></a><a class="anchor" name="_backwards_audio"></a><h3 class="cs_section_title">5.1) Backwards Audio<a class="cs_permalink" href="#_backwards_audio">ยง</a></h3></p>
<p>We'll implement our first manipulation via a function called <code>backwards</code>.  This
function should take a sound (in our representation, as a dictionary) as its
input, and it should return a <em>new</em> sound that is the reversed version of the
original (but without modifying the object representing the original sound!).
For example, the reverse of the following sound:</p>
<center>
<audio controls="">
<source src="/sounds/cde.wav"/>
</audio>
</center>
<p>is this:</p>
<center>
<audio controls="">
<source src="/sounds/cde_reversed.wav"/>
</audio>
</center>
<p>Reversing real-world sounds can create some neat effects.  For example, consider the
following sound (a crash cymbal):</p>
<center>
<audio controls="">
<source src="/sounds/crash.wav"/>
</audio>
</center>
<p>When reversed, it sounds like this:</p>
<center>
<audio controls="">
<source src="/sounds/crash_reversed.wav"/>
</audio>
</center>
<p>When we talk about reversing a sound in this way, we are really just talking
about reversing the order of its samples (in both the left and right channels)
but keeping the sampling rate the same.</p>
<p>Go ahead and implement the <code>backwards</code> function in your <code>lab.py</code> file.  After
doing so, your code should pass the first four test cases in <code>test.py</code>.</p>
<p>It can also be fun to play around with these things a little bit.  For example,
<code>mystery.wav</code> is a recording of Adam H speaking nonsense.  Let's try using
our new function to produce a modified version of that file.</p>
<p>Note that we have provided some example code in the <code>if __name__ == '__main__'</code>
section of the file, which demonstrates how to use the <code>load_wav</code> and
<code>write_wav</code> functions.  This is a good place to put code for generating files,
or other quick tests.</p>
<p>Try using some similar code to create a reversed version of <code>mystery.wav</code> by:
loading <code>mystery.wav</code>, calling <code>backwards</code> on it to produce a new sound, and
saving that sound with a different filename (ending with <code>.wav</code>).  If you
listen to that new file, you might be able to interpret the secret message!
<img alt="๐" aria-label="snake" class="emoji" draggable="false" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNiAzNiI+PHBhdGggZmlsbD0iI0REMkU0NCIgZD0iTTExLjg0IDcuNjM0Yy0uNzE5IDAtMi4yOTUgMi4yNDMtMy41NjcgMS4wMjktLjQ0LS40MTkgMS44MTgtMS4yNzggMS43MjctMi4wMTctLjA3NS0uNjA3LTIuODQyLTEuNTItMS44NzUtMi4wOTkuOTY3LS41NzggMi40MTguODQxIDMuNTEzLjg2NiAyLjM4Mi4wNTUgNC4yMTItLjg1MyA0LjIzOC0uODY2LjU0MS0uMjc0IDEuMTk1LS4wNTIgMS40NjQuNDk2LjI3LjU0Ny4wNTEgMS4yMTMtLjQ4OCAxLjQ4Ni0uMTMxLjA2Ni0yLjIyNSAxLjEwNS01LjAxMiAxLjEwNXoiLz48cGF0aCBmaWxsPSIjNzdCMjU1IiBkPSJNMjcuODE4IDM2Yy0zLjk2NyAwLTguMTgyLTIuOTEyLTguMTgyLTguMzA4IDAtMS4zNzQtLjg5LTEuNjYxLTEuNjM3LTEuNjYxLS43NDYgMC0xLjYzNi4yODctMS42MzYgMS42NjEgMCA1LjM5Ni00LjIxNiA4LjMwOC04LjE4MiA4LjMwOFMwIDMzLjIzIDAgMjcuNjkyQzAgMTQuNCAxNC4xODIgMTIuNTY1IDE0LjE4MiAxNC40YzAgMS44MzUtNy42MzYtMS4xMDctNy42MzYgMTIuMTg1IDAgMi4yMTUuODkgMi43NjkgMS42MzYgMi43NjkuNzQ3IDAgMS42MzctLjI4NyAxLjYzNy0xLjY2MSAwLTUuMzk1IDQuMjE1LTguMzA4IDguMTgyLTguMzA4IDMuOTY2IDAgOC4xODIgMi45MTIgOC4xODIgOC4zMDggMCAxLjM3NC44OSAxLjY2MSAxLjYzNyAxLjY2MXMxLjYzNi0uMjg3IDEuNjM2LTEuNjYxVjExLjA3N2MwLTMuODU1LTMuNDE3LTQuNDMxLTUuNDU0LTQuNDMxIDAgMC0zLjI3MiAxLjEwOC02LjU0NSAxLjEwOHMtNC4zNjQtMi41OTYtNC4zNjQtNC40MzFDMTMuMDkxIDEuNDg4IDE3LjQ1NSAwIDI0IDBjNi41NDYgMCAxMiA0LjQ1MSAxMiAxMS4wNzd2MTYuNjE1QzM2IDMzLjA4OCAzMS43ODQgMzYgMjcuODE4IDM2eiIvPjxjaXJjbGUgZmlsbD0iIzI5MkYzMyIgY3g9IjE5IiBjeT0iMyIgcj0iMSIvPjwvc3ZnPg==" title="snake"/> <img alt="๐" aria-label="slight_smile" class="emoji" draggable="false" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNiAzNiI+PGNpcmNsZSBmaWxsPSIjRkZDQzREIiBjeD0iMTgiIGN5PSIxOCIgcj0iMTgiLz48cGF0aCBmaWxsPSIjNjY0NTAwIiBkPSJNMTAuNTE1IDIzLjYyMUMxMC41NiAyMy44IDExLjY4MyAyOCAxOCAyOGM2LjMxOCAwIDcuNDQtNC4yIDcuNDg1LTQuMzc5LjA1NS0uMjE3LS4wNDMtLjQ0Mi0uMjM3LS41NTQtLjE5NS0uMTExLS40MzktLjA3OC0uNi4wNzdDMjQuNjI5IDIzLjE2MyAyMi42OTQgMjUgMTggMjVzLTYuNjMtMS44MzctNi42NDgtMS44NTVDMTEuMjU2IDIzLjA1IDExLjEyOCAyMyAxMSAyM2MtLjA4NCAwLS4xNjkuMDIxLS4yNDYuMDY0LS4xOTYuMTEyLS4yOTQuMzM5LS4yMzkuNTU3eiIvPjxlbGxpcHNlIGZpbGw9IiM2NjQ1MDAiIGN4PSIxMiIgY3k9IjEzLjUiIHJ4PSIyLjUiIHJ5PSIzLjUiLz48ZWxsaXBzZSBmaWxsPSIjNjY0NTAwIiBjeD0iMjQiIGN5PSIxMy41IiByeD0iMi41IiByeT0iMy41Ii8+PC9zdmc+" title="slight_smile"/></p>
<p>Once you have that file, upload it in the box below to be checked for correctness:</p>
<p>
<!--START question q000000 -->
<div class="question question-fileupload" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
Reversed <code>mystery.wav</code>:<br/><input id="q000000" name="q000000" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000000_select_button">Select File</button>ย<tt><span id="q000000_selected_file">No file selected</span></tt><script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById('q000000_select_button').addEventListener('click', function (){
    document.getElementById("q000000").click();
});
document.getElementById('q000000').addEventListener('change', function (){
    document.getElementById('q000000_selected_file').innerText = document.getElementById('q000000').value;
});
// @license-end</script>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper">
<span id="q000000_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000000_score_display"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div id="q000000_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000000 -->
</p>
<p><a class="anchor" name="catsoop_section_5_2"></a><a class="anchor" name="_mixing_audio"></a><h3 class="cs_section_title">5.2) Mixing Audio<a class="cs_permalink" href="#_mixing_audio">ยง</a></h3></p>
<p>Next, we'll look at <em>mixing</em> two sounds together to create a new sound.  We'll
implement this behavior as a function called <code>mix</code>.  <code>mix</code> should take three
inputs: two sounds (in our dictionary representation) and a "mixing parameter"
<span class="cs_math_to_render">p</span> (a <code>float</code> such that <span class="cs_math_to_render">0 \leq p \leq 1</span>).</p>
<p>The resulting sound should take <span class="cs_math_to_render">p</span> times the samples in the first sound and
<span class="cs_math_to_render">1-p</span> times the samples in the second sound, and add them them together to
produce a new sound.</p>
<p>The two input sounds should have the same sampling rate.  If you are provided
with sounds of two different sampling rates, you should return <code>None</code> instead
of returning a sound.</p>
<p>However, despite having the same sampling rate, the input sounds might have
different durations.  The length of the resulting sound should be the <em>minimum</em>
of the lengths of the two input sounds, so that we are guaranteed a result
where we can always hear both sounds (it would be jarring if one of the sounds
cut off in the middle).</p>
<p>For example, consider the following two sounds:</p>
<center>
<audio controls="">
<source src="/sounds/chord.wav"/>
</audio>
</center>
<center>
<audio controls="">
<source src="/sounds/meow.wav"/>
</audio>
</center>
<p>Mixing them together with a mixing parameter <span class="cs_math_to_render">p=0.7</span>, we hear the sound of a
frustrated cat whose human is paying too much attention to a guitar and not
enough to the cat....</p>
<center>
<audio controls="">
<source src="/sounds/chord_meow.wav"/>
</audio>
</center>
<p>Go ahead and implement <code>mix</code> in <code>lab.py</code>.  As with the function above, <code>mix</code>
should produce a new Python object representing the new sound, and it should
not modify either of the sounds that are passed to it.  After having
implemented <code>mix</code>, you should pass the first 8 test cases in <code>test.py</code>.</p>
<p>As one example of a neat result, try mixing together <code>synth.wav</code> and <code>water.wav</code>
with a mixing parameter of <span class="cs_math_to_render">p=0.2</span>.  Give this one a listen, and you should hear
a sound mimicking what you would hear listening to some weird new-age music while
standing next to a stream....</p>
<p>Once you have that file, upload it below to be checked for correctness.</p>
<p>
<!--START question q000001 -->
<div class="question question-fileupload" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
Mixed synth and water:<br/><input id="q000001" name="q000001" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000001_select_button">Select File</button>ย<tt><span id="q000001_selected_file">No file selected</span></tt><script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById('q000001_select_button').addEventListener('click', function (){
    document.getElementById("q000001").click();
});
document.getElementById('q000001').addEventListener('change', function (){
    document.getElementById('q000001_selected_file').innerText = document.getElementById('q000001').value;
});
// @license-end</script>
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper">
<span id="q000001_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000001_score_display"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div id="q000001_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000001 -->
</p>
<p><a class="anchor" name="catsoop_section_5_3"></a><a class="anchor" name="_echo"></a><h3 class="cs_section_title">5.3) Echo<a class="cs_permalink" href="#_echo">ยง</a></h3></p>
<p>Next, we'll implement a classic effect: the <em>echo</em> filter.  We simulate an echo
by starting with our original sound, and adding one or more additional copies
of the sound, each delayed by some amount and scaled down so as to be quieter.</p>
<p>We will implement this filter as a function called <code>echo(sound, num_echos, delay, scale)</code>.  This function should take the following arguments:</p>
<ul>
<li><code>sound</code>: a dictionary representing the original sound</li>
<li><code>num_echos</code>: the number of additional copies of the sound to add</li>
<li><code>delay</code>: the amount (in <strong>seconds</strong>) by which each "echo" should be delayed</li>
<li><code>scale</code>: the amount by which each echo's samples should be scaled</li>
</ul>
<p>A good first place to start is by determining how many <em>samples</em> each copy should
be delayed by.  To make sure your results are consistent with our checker, you
should use Python's <code>round</code> function: <code>sample_delay = round(delay * sound['rate'])</code></p>
<p>We should add in a delayed and scaled-down copy of the sound's samples (scaled
by the given <code>scale</code> value and offset by <code>sample_delay</code> samples).  Note that
each new copy should be scaled down more than the one preceding it (the first
should be multiplied by <code>scale</code>, the second by a total of <code>scale**2</code>, the third
by a total of <code>scale**3</code>, and so on).</p>
<p>All told, the output should be <code>num_echos * sample_delay</code> samples longer than
the input in order to avoid cutting off any of the echos.</p>
<p>As an example, consider the following sound:</p>
<center>
<audio controls="">
<source src="/sounds/hello.wav"/>
</audio>
</center>
<p>If we invoke <code>echo</code> with this sound, 4 copies, a 0.4-second delay, and a scaling
factor of 0.4, we end up with the following:</p>
<center>
<audio controls="">
<source src="/sounds/hello_echo.wav"/>
</audio>
</center>
<p>
<!--START question echo1 -->
<div class="question question-pythonic" id="cs_qdiv_echo1" style="position: static">
<div id="echo1_rendered_question">
Consider the following sound:
<pre><code class="language-py">s = {
    'rate': 8,
    'left': [1, 2, 3, 4, 5],
    'right': [5, 4, 3, 2, 1],
}
</code></pre>
<p>If we were to make a new sound via <code>s2 = echo(s, 1, 0.4, 0.2)</code>, what should
the value of <code>s2['left']</code> be?  Enter a Python list in the box below:<br/></p><input id="echo1" name="echo1" size="50" type="text" value=""/>
</div><div>
<span id="echo1_buttons"></span>
<span id="echo1_loading_wrapper">
<span id="echo1_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="echo1_score_display"></span>
<div class="nsubmits_left" id="echo1_nsubmits_left"></div></div>
<div id="echo1_solution_container">
<div id="echo1_solution">
</div>
<div id="echo1_solution_explanation">
</div>
</div>
<div id="echo1_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question echo1 -->
</p>
<p>
<!--START question q000002 -->
<div class="question question-pythonic" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
Consider the following sound:
<pre><code class="language-py">s = {
    'rate': 8,
    'left': [1, 2, 3, 4, 5],
    'right': [5, 4, 3, 2, 1],
}
</code></pre>
<p>If we were to make a new sound via <code>s2 = echo(s, 2, 0.4, 0.2)</code>, what should
the value of <code>s2['left']</code> be?  Enter a Python list in the box below:<br/></p><input id="q000002" name="q000002" size="50" type="text" value=""/>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper">
<span id="q000002_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000002_score_display"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div id="q000002_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000002 -->
</p>
<p>Implement the echo filter by filling in the definition of the <code>echo</code> function
in <code>lab.py</code>.  Note that <code>echo</code> should create a new sound and should not modify
its inputs.</p>
<p>When you have done so, try applying your echo filter to the sound in <code>chord.wav</code>,
with 5 echos, 0.3 seconds of delay between echos, and a scaling factor of 0.6.
Save the result as a WAV file, give it a listen, and upload it in the box below
to check for correctness:</p>
<p>
<!--START question q000003 -->
<div class="question question-fileupload" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
Echo-y <code>chord.wav</code>:<br/><input id="q000003" name="q000003" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000003_select_button">Select File</button>ย<tt><span id="q000003_selected_file">No file selected</span></tt><script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById('q000003_select_button').addEventListener('click', function (){
    document.getElementById("q000003").click();
});
document.getElementById('q000003').addEventListener('change', function (){
    document.getElementById('q000003_selected_file').innerText = document.getElementById('q000003').value;
});
// @license-end</script>
</div><div>
<span id="q000003_buttons"></span>
<span id="q000003_loading_wrapper">
<span id="q000003_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000003_score_display"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left"></div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div id="q000003_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000003 -->
</p>
<p><a class="anchor" name="catsoop_section_5_4"></a><a class="anchor" name="_pan"></a><h3 class="cs_section_title">5.4) Pan<a class="cs_permalink" href="#_pan">ยง</a></h3></p>
<p>So far, we have not really taken advantage of the fact that we are working
with stereo sounds (for each of the effects above, we applied the same results
to the left and right channels).  We'll change that in this section,
using stereo sound to create a really neat spatial effect.  <strong>Note</strong>
that this effect is most noticeable if you are wearing headphones; it may not be
too apparent through laptop speakers.</p>
<p>Let's hear an example before we describe the process.  If you listen to the
sound below (a creaky door), it should sound like the door is more or less
directly in front of you:</p>
<center>
<audio controls="">
<source src="/sounds/door.wav"/>
</audio>
</center>
<p>However, if we manipulate things a bit, we can make it seem like we are moving
by the door.  Or maybe the door is moving by us? <img alt="๐" aria-label="confused" class="emoji" draggable="false" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNiAzNiI+PHBhdGggZmlsbD0iI0ZGQ0M0RCIgZD0iTTM2IDE4YzAgOS45NDEtOC4wNTkgMTgtMTggMTgtOS45NCAwLTE4LTguMDU5LTE4LTE4QzAgOC4wNiA4LjA2IDAgMTggMGM5Ljk0MSAwIDE4IDguMDYgMTggMTgiLz48ZWxsaXBzZSBmaWxsPSIjNjY0NTAwIiBjeD0iMTEuNSIgY3k9IjE2LjUiIHJ4PSIyLjUiIHJ5PSIzLjUiLz48ZWxsaXBzZSBmaWxsPSIjNjY0NTAwIiBjeD0iMjQuNSIgY3k9IjE2LjUiIHJ4PSIyLjUiIHJ5PSIzLjUiLz48cGF0aCBmaWxsPSIjNjY0NTAwIiBkPSJNMTIgMjhjMi01IDEzLTUgMTMtMyAwIDEtOC0xLTEzIDN6Ii8+PC9zdmc+" title="confused"/>  Either way, the
sound seems to start off to our left and end up on our right!</p>
<center>
<audio controls="">
<source src="/sounds/door_pan.wav"/>
</audio>
</center>
<p>We achieve this effect by adjusting the volume in the left and right channels
separately, so that the left channel starts out at full volume and ends at 0
volume (and <em>vice versa</em> for the right channel).</p>
<p>In particular, if our sound is <span class="cs_math_to_render">N</span> samples long, then:</p>
<ul>
<li>
<p>We scale the first sample in the right channel by <span class="cs_math_to_render">0</span>, the second by <span class="cs_math_to_render">1\over {N-1}</span>, the third by <span class="cs_math_to_render">2\over {N-1}</span>, ... and the last by <span class="cs_math_to_render">1</span>.
<br/></p>
</li>
<li>
<p>At the same time, we scale the first sample in the left channel by <span class="cs_math_to_render">1</span>, the second by <span class="cs_math_to_render">1 - \frac{1}{N-1}</span>, the third by <span class="cs_math_to_render">1-\frac{2}{N-1}</span>, ... and the last by <span class="cs_math_to_render">0</span>.</p>
</li>
</ul>
<p>Go ahead and implement this as a function <code>pan</code> in your <code>lab.py</code> file.  As with
the functions above, this function should not modify its input; rather, it should
make a brand-new object representing the new sound.  After implementing <code>pan</code>,
your code should pass the first 16 test cases in <code>test.py</code>.</p>
<p>Once you have done so, we'll once again test by applying this function to a
piece of audio.  Try applying this to <code>car.wav</code>, then save the result and
listen to it.  This should be more impressive (or at least more realistic) than
the door example....</p>
<p>When you have that file, upload it below to check for correctness:</p>
<p>
<!--START question q000004 -->
<div class="question question-fileupload" id="cs_qdiv_q000004" style="position: static">
<div id="q000004_rendered_question">
Left-to-right <code>car.wav</code>:<br/><input id="q000004" name="q000004" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000004_select_button">Select File</button>ย<tt><span id="q000004_selected_file">No file selected</span></tt><script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById('q000004_select_button').addEventListener('click', function (){
    document.getElementById("q000004").click();
});
document.getElementById('q000004').addEventListener('change', function (){
    document.getElementById('q000004_selected_file').innerText = document.getElementById('q000004').value;
});
// @license-end</script>
</div><div>
<span id="q000004_buttons"></span>
<span id="q000004_loading_wrapper">
<span id="q000004_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000004_score_display"></span>
<div class="nsubmits_left" id="q000004_nsubmits_left"></div></div>
<div id="q000004_solution_container">
<div id="q000004_solution">
</div>
<div id="q000004_solution_explanation">
</div>
</div>
<div id="q000004_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000004 -->
</p>
<p><a class="anchor" name="catsoop_section_5_5"></a><a class="anchor" name="_removing_vocals_from_music"></a><h3 class="cs_section_title">5.5) Removing Vocals from Music<a class="cs_permalink" href="#_removing_vocals_from_music">ยง</a></h3></p>
<p>As a final example for this lab (unless you are interested to try some of the
<a href="#_optional_additional_extensions">optional additional pieces discussed
below</a>!) is a little trick for (kind of) removing vocals from a piece of
music, creating a version of the song that would be appropriate as a backing
track for karaoke night.</p>
<p>Our approach is going to seem weird at first, but we will explain why it works
(at least on some pieces of music) in a bit.  For now, we'll describe our
algorithm.  For each sample in the input, we compute <code>(left-right)</code>, i.e., the
difference between the left and right channels at that point in time, and use
that value as <strong>both</strong> the left and right values in the output at that time.</p>
<p>That might seem like a weird approach to take, but we can hear that the results
are pretty good.  For example, here is a short sample from a song that was
popular before you were born ("Lido Shuffle" by Boz Scaggs):</p>
<center>
<audio controls="">
<source src="/sounds/lido.wav"/>
</audio>
</center>
<p>And here is the result after applying the algorithm above:</p>
<center>
<audio controls="">
<source src="/sounds/lido2.wav"/>
</audio>
</center>
<p>Although some of the instruments are a little bit distorted, and some trace of
the vocal track remains, this approach did a pretty good job of removing the
vocals while preserving most everything else.</p>
<p>So how does it work?  Indeed, it seems weird that subtracting the left and
right channels should remove vocals... and why does it only work on certain
songs?  Well, it comes down to a little bit of a trick of the way songs tend to
be recorded.  Typically, many instruments are recorded so they they favor one
side of the stereo track over the other (for example, the guitar track might be
slightly off to one side, the bass slightly off to the other, and various drums
at various "positions" as well).  By contrast, vocals are often recorded <em>mono</em>
and played equally in both channels.  When we subtract the two, we are removing
everything that is the same in both channels, which often includes the main vocal
track (and often not much else).  However, there are certainly exceptions to this
rule; and, beyond differences in recording technique, certain vocal effects like
<a href="https://en.wikipedia.org/wiki/Reverberation">reverb</a> tend to introduce differences
between the two channels that make this technique less effective.</p>
<p>Anyway, now would be a good time to go ahead and implement this manipulation
by filling in the definition of the <code>remove_vocals</code> function in <code>lab.py</code>.  As
with all of the previous filters, this function should not modify its input;
rather, it should produce a new sound.  After implementing <code>remove_vocals</code>,
your code should pass all of the test cases in <code>test.py</code>!</p>
<p>Try applying <code>remove_vocals</code> to the sound from <code>coffee.wav</code>.  This one doesn't
do quite as well as the example above, but you can hopefully still notice that
a substantial portion of the main vocal track has indeed gone away.</p>
<p>Save the result as a WAV file and upload it below to be checked for correctness:</p>
<p>
<!--START question q000005 -->
<div class="question question-fileupload" id="cs_qdiv_q000005" style="position: static">
<div id="q000005_rendered_question">
<code>coffee.wav</code> after removing vocals:<br/><input id="q000005" name="q000005" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000005_select_button">Select File</button>ย<tt><span id="q000005_selected_file">No file selected</span></tt><script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
document.getElementById('q000005_select_button').addEventListener('click', function (){
    document.getElementById("q000005").click();
});
document.getElementById('q000005').addEventListener('change', function (){
    document.getElementById('q000005_selected_file').innerText = document.getElementById('q000005').value;
});
// @license-end</script>
</div><div>
<span id="q000005_buttons"></span>
<span id="q000005_loading_wrapper">
<span id="q000005_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000005_score_display"></span>
<div class="nsubmits_left" id="q000005_nsubmits_left"></div></div>
<div id="q000005_solution_container">
<div id="q000005_solution">
</div>
<div id="q000005_solution_explanation">
</div>
</div>
<div id="q000005_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000005 -->
</p>
<a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_code_submission"></a><h2 class="cs_section_title">6) Code Submission<a class="cs_permalink" href="#_code_submission">ยง</a></h2>
<p>When you have tested your code sufficiently on your own machine, submit
your modified <code>lab.py</code> by clicking on "Choose File", then
clicking the <code>Submit</code> button to send the file to the 6.009 server.  The server will
run the tests and report back the results below.</p>
<p>
<!--START question q000006 -->
<div class="question question-lab009" id="cs_qdiv_q000006" style="position: static">
<div id="q000006_rendered_question">
<input id="q000006" name="q000006" style="display: none" type="file"/><button class="btn btn-catsoop" id="q000006_select_button">Select File</button>ย<tt><span id="q000006_selected_file">No file selected</span></tt>
<script type="text/javascript">
document.getElementById('q000006').value = '';
document.getElementById('q000006_select_button').addEventListener('click', function (){
    document.getElementById("q000006").click();
});
document.getElementById('q000006').addEventListener('change', function (){
    document.getElementById('q000006_selected_file').innerText = document.getElementById('q000006').value;
});
</script>
</div><div>
<span id="q000006_buttons"></span>
<span id="q000006_loading_wrapper">
<span id="q000006_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000006_score_display"></span>
<div class="nsubmits_left" id="q000006_nsubmits_left"></div></div>
<div id="q000006_solution_container">
<div id="q000006_solution">
</div>
<div id="q000006_solution_explanation">
</div>
</div>
<div id="q000006_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday September 04, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000006 -->
</p>
<a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_checkoff_2"></a><h2 class="cs_section_title">7) Checkoff<a class="cs_permalink" href="#_checkoff_2">ยง</a></h2>
<p>Once you are finished with the code, you will need to come to any office-hour
time and add yourself to the queue asking for a checkoff in order to receive
credit for the lab.  <strong>You must be ready to discuss your code in
detail before asking for a checkoff.</strong></p>
<p>You should be prepared to demonstrate your code (which should be
well-commented, should avoid repetition, and should make good use of helper
functions; see the notes on <a href="https://py.mit.edu/fall20/notes/style">style</a> for more information).
In particular, be prepared to discuss:</p>
<ul>
<li>Your code for <code>backwards</code> and <code>mix</code>.</li>
<li>Your code for <code>echo</code>.</li>
<li>Your code for <code>pan</code> and <code>remove_vocals</code>.</li>
<li>Your additional code for loading and saving the WAV files from above.</li>
</ul>
<p><a class="anchor" name="catsoop_section_7_1"></a><a class="anchor" name="_grade"></a><h3 class="cs_section_title">7.1) Grade<a class="cs_permalink" href="#_grade">ยง</a></h3></p>
<div class="response"><i>You have not yet received this checkoff.  When you have completed this checkoff, you will see a grade here.</i></div>
<a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_optional_additional_extensions"></a><h2 class="cs_section_title">8) (Optional) Additional Extensions<a class="cs_permalink" href="#_optional_additional_extensions">ยง</a></h2>
<p>If you have found this lab interesting, you might be interested in trying some
additional things (and if you do, please feel free to share during the
checkoff!):</p>
<ul>
<li>
<p>Try manipulating your own sounds!  You can use a tool like <a href="https://www.audacityteam.org">Audacity</a> to
record sounds of your own (or to clip and convert music files)!  Make sure that you save your files as WAV files.  In Audacity, the right option to choose is "WAV (Microsoft) signed 16-bit PCM".</p>
</li>
<li>
<p>Make a variant of the echo filter that takes advantage of stereo sound by playing subsequent echos in alternate speakers (first echo on the left, second on the right, and so on) rather than playing them equally in both channels.</p>
</li>
<li>
<p>Make a variant of <code>mix</code> that takes arbitrarily many sounds (and associated mixing parameters) and mixing them <em>all</em> together.</p>
</li>
<li>
<p>Try making a function that speeds up or slows down a given sound (either by manipulating the samples themselves, or the sampling rate).</p>
</li>
</ul>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['q000000', 'q000001', 'echo1', 'q000002', 'q000003', 'q000004', 'q000005', 'q000006'];
catsoop.username = null;
catsoop.api_token = null;
catsoop.this_path = 'https://py.mit.edu/fall20/labs/lab0';
catsoop.path_info = ['fall20', 'labs', 'lab0'];
catsoop.course = 'fall20';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab0">Lab 0: Audio Processing</a></span></div>
<div class="cs_footer">
      This page was last updated on Sunday September 13, 2020 at 08:18:06 PM (revision <code>c58a058f</code>).<br/>ย<br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu" target="_blank">CAT-SOOP</a> v2021.2.0.dev1971+hg ("Devon Rex" development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

