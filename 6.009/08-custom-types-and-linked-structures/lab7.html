<!DOCTYPE html>

<html>
<head>
<!-- This page was generated by CAT-SOOP 2021.2.0.dev1971+hg.  miau. -->
<meta charset="utf-8"/>
<title>Lab 7: Autocomplete | 6.009 Fall 2020</title>
<link href="https://py.mit.edu/_static/fall20/logo.gif" rel="icon" type="image/gif"/>
<!-- include catsoop base css -->
<link href="https://py.mit.edu/_static/_base/themes/base.css" rel="stylesheet" type="text/css"/>
<!-- set up JS namespace for catsoop -->
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    var catsoop = {plugins: {}};

    function toggleResponsiveHeader(){
        document.getElementsByTagName('header')[0].classList.toggle('responsive');
    }

    window.addEventListener('DOMContentLoaded', function(){
        var menu_boxes = document.getElementsByClassName('dropdown-checkbox');
        for(var i=0; i<menu_boxes.length; i++){
            menu_boxes[i].checked = false;
        }
    });

    function clearMenu(menu){
       menu.children[1].checked = false;
    }
    // @license-end
    </script>
<!-- load in katex and CAT-SOOP-specific math rendering  -->
<script src="https://py.mit.edu/_static/_base/scripts/katex/katex.min.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/katex/katex.min.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    catsoop.katex_macros = {};
    catsoop.render_math = function (elt) {
        var tex = elt.innerText; // TeX Source
        var display = elt.classList.contains('cs_displaymath');
        try {
            katex.render(tex, elt, {displayMode: display, macros: catsoop.katex_macros});
        }catch(e) {
            console.log(e);
            elt.innerHTML = "<font color='red'><b>Could not parse math:</b> <tt>" + tex + "</tt></font>";
        }
        elt.classList.remove('cs_math_to_render');
    }


    catsoop.render_all_math = function (elt){
        var mathelts = elt.getElementsByClassName('cs_math_to_render');
        while(mathelts.length > 0){
            catsoop.render_math(mathelts[0]);
        }
    }
    document.addEventListener("DOMContentLoaded", function(event) {
          catsoop.render_all_math(document);
    });
    // @license-end
    </script>
<!-- load in diagram stuff -->
<script src="https://py.mit.edu/_static/_base/scripts/cs_diagrams.js" type="text/javascript"></script>
<script type="text/javascript">
        catsoop.diagram_sources = {};
    </script>
<!-- Syntax Highlighting -->
<script src="https://py.mit.edu/_static/_base/scripts/highlight/highlight.min.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/highlightjs-line-numbers.js" type="text/javascript"></script>
<script type="text/javascript">
    // @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
    hljs.initHighlightingOnLoad();
    window.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('.hl code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        document.querySelectorAll('code.highlight-lines').forEach(function(b){
            hljs.lineNumbersBlock(b);
            if ((b.innerHTML.trim().match(/\r\n|\r|\n/g) || []).length > 0){
                b.parentElement.style = "padding-left: 0px !important;"
                b.classList.add('hljs');
            }
        });
    });
    // @license-end
    </script>
<style>
      :root {
        --cs-base-bg-color: #039bba;
        --cs-light-bg-color: #62d5ed;
        --cs-base-font-color: #fff;
        --cs-light-font-color: #000;
    }
    </style>
<style>
.cs_top_menu_item {
  font-size: 0.88rem;
}
div.dropdown {
  -moz-transform: translateY(-1px);
}
</style>
<!-- CodeMirror -->
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/mode/python/python.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldcode.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.js" type="text/javascript"></script>
<script src="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/indent-fold.js" type="text/javascript"></script>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/codemirror.css" rel="stylesheet"/>
<link href="https://py.mit.edu/_static/_base/scripts/codemirror/addon/fold/foldgutter.css" rel="stylesheet"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
</head>
<body style="margin: 0px;">
<header id="cs_header">
<div class="nav-container">
<div class="cs_header_text"><a href="https://py.mit.edu/fall20"><img src="https://py.mit.edu/_static/fall20/logo.gif"/> 6.009</a></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/information">Information/Policies</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/progress">Progress</a>
<div class="dropdown" onmouseleave="clearMenu(this);">
<label class="dropbtn cs_top_menu_item" for="cs_menu_e92315598caf37074f1c2542f0bc9c06">Help<span class="downarrow">▼</span></label>
<input checked="false" class="dropdown-checkbox" id="cs_menu_e92315598caf37074f1c2542f0bc9c06" type="checkbox"/>
<div class="dropdown-content">
<a class="cs_top_menu_item" href="https://py.mit.edu/forum">Forum</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/queue/">Help Queue</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/python">Accessing/Installing Python</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/notes">Course Notes</a>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/otherhelp">Other Help</a></div></div>
<a class="cs_top_menu_item" href="https://py.mit.edu/fall20/labs/lab7?loginaction=login">Log In</a><a class="icon" href="javascript:void(0);" onclick="toggleResponsiveHeader()">☰</a>
</div>
</header>
<div class="cs_navigation cs_top_navigation" id="cs_top_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab7">Lab 7: Autocomplete</a></span></div>
<main class="cs_body" id="cs_body">
<div class="cs_left_menu"></div>
<div class="cs_content">
<div class="cs_page_body">
<center><h1 class="cs_content_header">Lab 7: Autocomplete</h1></center>
<center>The questions below are due on Friday October 30, 2020; 04:00:00 PM.<br/> <br/></center><div class="response" id="catsoop_login_box">
<b><center>You are not logged in.</center></b><br/>
If you are a current student, please <a href="https://py.mit.edu/fall20/labs/lab7?loginaction=login">Log
In</a> for full access to the web site.<br/>Note that this link will take you to
an external site (<tt>https://shimmer.mit.edu</tt>) to authenticate, and then you will be redirected
back to this page.
</div>
<h2>Table of Contents</h2><ul><li><a href="#_preparation">1) Preparation</a></li><li><a href="#_introduction">2) Introduction</a></li><ul><li><a href="#_the_trie_data_structure">2.1) The Trie Data Structure</a></li></ul><li><a href="#_trie_class_and_basic_methods">3) Trie class and basic methods</a></li><li><a href="#_autocomplete">4) Autocomplete</a></li><li><a href="#_autocorrect">5) Autocorrect</a></li><li><a href="#_selecting_words_from_a_word_trie">6) Selecting words from a word trie</a></li><li><a href="#_testing_your_lab">7) Testing your lab</a></li><li><a href="#_code_submission">8) Code Submission</a></li><li><a href="#_checkoff">9) Checkoff</a></li><ul><li><a href="#_grade">9.1) Grade</a></li></ul></ul>
<a class="anchor" name="catsoop_section_1"></a><a class="anchor" name="_preparation"></a><h2 class="cs_section_title">1) Preparation<a class="cs_permalink" href="#_preparation">§</a></h2>
<p>This lab assumes you have Python 3.6 or later installed on your machine.</p>
<p>The following file contains code and other resources as a starting point for
this lab: <a download="lab7.zip" href="https://py.mit.edu/fall20/lab_distribution.zip?path=%5B%22fall20%22%2C+%22labs%22%2C+%22lab7%22%5D"><tt>lab7.zip</tt></a></p>
<p>Most of your changes should be made to <code>lab.py</code>, which you will submit at the
end of this lab.  Importantly, you should not add any imports to the file.</p>
<p>You can also see and participate in online discussion about this lab in the <a href="https://py.mit.edu/forum/c/labs/lab-7" target="_blank">"Lab 7"
Category</a> in the forum.</p>
<p>This lab is worth a total of 4 points.  Your score for the lab is based on:</p>
<ul>
<li>correctly answering the questions on thie page (0.5 points)</li>
<li>passing the test cases from <code>test.py</code> under the time limit (1.5 points), and</li>
<li>a brief "checkoff" conversation with a staff member to discuss your code (2 points).</li>
</ul>
<p>Note that passing all of the tests on the server will require that your code runs reasonably efficiently.</p>
<div class="callout callout-error"><div class="callout-title">Reminder: Collaboration Policy</div>
<p>Please also review the <a href="https://py.mit.edu/fall20/information#catsoop_section_6">collaboration policy</a> before continuing.</p>
</div>
<p><strong>The questions below are all due at 4pm Eastern on Friday, 30 October.  The checkoff is due at 10pm on Wednesday, 4 November.</strong></p>
<a class="anchor" name="catsoop_section_2"></a><a class="anchor" name="_introduction"></a><h2 class="cs_section_title">2) Introduction<a class="cs_permalink" href="#_introduction">§</a></h2>
<p>Type "aren't you" into a search engine and you'll get a handful of search
suggestions, ranging from "aren't you clever?" to "aren't you a little short
for a stormtrooper?". If you've ever done a web search, you've probably seen an
autocompletion — a handy list of words that pops up under your search,
guessing at what you were about to type.</p>
<p>Search engines aren't the only place you'll find this mechanism.  Cell phone
use autocomplete/autocorrect to predict/correct words that are entered for, for
example, text messages.  Some IDEs (integrated development environments - used for
coding / software development) use autocomplete to make the process of
coding more efficient by offering suggestions for completing long function or
variable names.</p>
<p>In this lab, we are going to implement our own version of an
autocomplete/autocorrect engine using a tree structure called a <em>trie</em>, as
described in this document.</p>
<p>The lab will ask you first to create a class to represent a generic trie data
structure.  You will then use the trie to write your own autocomplete and
autocorrect, as well as a mechanism for searching.</p>
<p><a class="anchor" name="catsoop_section_2_1"></a><a class="anchor" name="_the_trie_data_structure"></a><h3 class="cs_section_title">2.1) The Trie Data Structure<a class="cs_permalink" href="#_the_trie_data_structure">§</a></h3></p>
<p>A trie<a class="anchor" name="catsoop_footnote_ref_1"></a><a href="#catsoop_footnote_1"><sup>1</sup></a>, also known as a prefix
tree, is a type of search tree that stores an associative array (a mapping from
keys to values).  In a trie, the keys are always ordered sequences.  The trie
stores keys organized by their prefixes (their first characters), with longer
prefixes given by successive levels of the trie. Each node optionally contains
a value to be associated with that node's prefix.</p>
<p>As an example, consider a trie constructed as follows:</p>
<pre><code class="language-py">t = Trie()
t['bat'] = True
t['bar'] = True
t['bark'] = True
</code></pre>
<p>This trie would look like the following (Fig. 1).</p>
<div class="cs-diagram-source" diagramalign="center">Placeholder for Diagram <code class="cs-diagram-id">37972a72e649b35a62f926d6e4c9de96</code></div>
<center>Fig. 1</center>
<p>One important thing to notice is that the keys associated with each node are
not actually stored in the nodes themselves.  Rather, they are associated with
the edges connecting the nodes.</p>
<p>We'll start by implementing a class called <code>Trie</code> to represent tries in Python.
This class will include facilities for adding, deleting, modifying, and
iterating over key/value pairs.  For example, consider:</p>
<pre><code class="language-py">&gt;&gt;&gt; t = Trie()
&gt;&gt;&gt; t['bat'] = True
&gt;&gt;&gt; t['bar'] = True
&gt;&gt;&gt; t['bark'] = True
&gt;&gt;&gt;
&gt;&gt;&gt; t['bat']
True
&gt;&gt;&gt; t['something']
Traceback (most recent call last):
    ...
KeyError
&gt;&gt;&gt;
&gt;&gt;&gt; t['bark'] = 20
&gt;&gt;&gt; t['bark']
20
&gt;&gt;&gt;
&gt;&gt;&gt; for i in t:
	print(i)


('bat', True)
('bar', True)
('bark', 20)
&gt;&gt;&gt;
&gt;&gt;&gt; del t['bar']
&gt;&gt;&gt;
&gt;&gt;&gt; for i in t:
	print(i)


('bat', True)
('bark', 20)
</code></pre>
<p>However, we are not limited to using only strings.  Your <code>Trie</code> structure
should (eventually) also support using tuples as keys, for example:</p>
<pre><code class="language-py">&gt;&gt;&gt; t = Trie()
&gt;&gt;&gt; t[2, ] = 'cat'
&gt;&gt;&gt; t[1, 0, 0] = 'dog'
&gt;&gt;&gt; t[1, 0, 1] = 'ferret'
&gt;&gt;&gt; t[1, 0, 1, 80] = 'tomato'
&gt;&gt;&gt;
&gt;&gt;&gt; t[1, 0]
Traceback (most recent call last):
    ...
KeyError
&gt;&gt;&gt; t[1, 0, 0]
'dog'
&gt;&gt;&gt; for i in t:
	print(i)


((2,), 'cat')
((1, 0, 0), 'dog')
((1, 0, 1), 'ferret')
((1, 0, 1, 80), 'tomato')
</code></pre>
<p>Note that, in terms of interface and functionality, the <code>Trie</code> class will have
a lot in common with a Python dictionary.  However, the representation we're
using "under the hood" has some nice features that make it well-suited for
tasks (like autocompletion) that use prefix-based lookups.</p>
<a class="anchor" name="catsoop_section_3"></a><a class="anchor" name="_trie_class_and_basic_methods"></a><h2 class="cs_section_title">3) Trie class and basic methods<a class="cs_permalink" href="#_trie_class_and_basic_methods">§</a></h2>
<p>In <code>lab.py</code>, you are responsible for implementing the <code>Trie</code> class, which
should support the following methods.</p>
<p><strong>__init__</strong>( <em>self</em> )</p>
<div markdown="" style="margin-left: 2em;">
<p>Initialize self to be an object with exactly three instance variables:</p>
<ul>
<li>
<p><code>value</code>, the value associated with the sequence ending at this node.  Initial value is <code>None</code> (we will assume that a value of <code>None</code> means that a given key has no value associated with it, not that the value <code>None</code> is associated with it).</p>
</li>
<li>
<p><code>children</code>, a dictionary mapping a single-element sequence (either a length-1 string or a length-1 tuple) to another trie node, i.e., the next level of the trie hierarchy (tries are a recursive data structure).  Initial value is an empty dictionary.</p>
</li>
<li>
<p><code>type</code>, some way to keep track of the type of the keys (<strong>without explicitly storing the entire keys themselves</strong>).  The exact choice of representation is up to you.  This attribute should be set to <code>None</code> when the instance is first created, and it should be updated to reflect the type of the keys when the first element is added.  You may assume that all keys in a given <code>Trie</code> instance are of the same type.</p>
</li></ul></div>
<p><strong>__setitem__</strong>( <em>self, key, value</em> )</p>
<div markdown="" style="margin-left: 2em;">
<p>Add the given <code>key</code> to the trie, associating it with the given <code>value</code>.  For
the trie node that marks the end of the key, set that node's <code>value</code> attribute
to be given <code>value</code> argument.  This method doesn't return a value.  This is a
special method name used by Python to implement subscript assignment.  For
example, <code>x[k] = v</code> is translated by Python into <code>x.__setitem__(k, v)</code>. If the
type of the <code>key</code> is not consistent with the key type expected for the trie, a
<code>TypeError</code> exception should be raised (see <a href="https://docs.python.org/3/reference/simple_stmts.html#raise">https://docs.python.org/3/reference/simple_stmts.html#raise</a>).</p>
<p></p>
Examples (using the trie structure from the picture above):
<p></p>
<ul>
<li>
<p><code>t = Trie()</code> would create the root node of the example trie above.</p>
</li>
<li>
<p><code>t['bat'] = True</code> adds three nodes (representing the <code>'b'</code>, <code>'ba'</code>, and
<code>'bat'</code> prefixes) and associates the value <code>True</code> with the node corresponding to
<code>'bat'</code>.</p>
</li>
<li>
<p><code>t['bark'] = True</code> adds two new nodes for prefixes <code>'bar'</code> and <code>'bark'</code> shown on the bottom right of
the trie, setting the value of the last node to <code>True</code>.</p>
</li>
<li>
<p><code>t['bar'] = True</code> doesn't add any nodes and only sets the value of the
first node added above when inserting "bark" to <code>True</code>.</p>
</li>
<li>
<p><code>t[1] = True</code> raises a <code>TypeError</code> and does not make any change to the trie.</p>
</li></ul></div>
<p><strong>__getitem__</strong>( <em>self, key</em> )</p>
<div markdown="" style="margin-left: 2em">
<p>Return the value associated with the given key.  This is a special method name
used by Python to implement subscripting (indexing).  For example, <code>x[k]</code> is
translated by Python into <code>x.__getitem__(k)</code>.  It is expected that the trie node
descended from the <code>self</code> trie will be located corresponding to <code>key</code> and the value associated with
that node will be returned, or a <code>KeyError</code> will be raised if the key cannot be found in the
trie. If the type of the key is not consistent with the expected type of keys for
this trie, raise a <code>TypeError</code>.</p>
<p>Examples (using the example trie from above):</p>
<ul>
<li>
<p><code>t['bar']</code> should return <code>True</code>.</p>
</li>
<li>
<p><code>t['apple']</code> should raise a <code>KeyError</code> since the given key does not exist in the trie.</p>
</li>
<li>
<p><code>t['ba']</code> should also raise a <code>KeyError</code> since, even though the key <code>'ba'</code> is represented in the trie, it has no value associated with it.</p>
</li>
<li>
<p><code>t[1]</code> should raise a <code>TypeError</code> since the keys for this trie are expected to be strings, not integers.</p>
</li>
</ul>
</div>
<p><strong>__delitem__</strong>( <em>self, key</em> )</p>
<div markdown="" style="margin-left: 2em">
<p>Disassociate the given key from its value.  This is a special method name
used by Python to implement index deletion.  For example, <code>del x[k]</code> is
translated by Python into <code>x.__delitem__(k)</code>.  Trying to delete a key that has no
associated value should raise a <code>KeyError</code>, and trying to delete a key of the
wrong type should raise a <code>TypeError</code>.</p>
<p>Examples (using the example trie from above):</p>
<ul>
<li>
<p><code>del t["bar"]</code> should disassociate <code>"bar"</code> from its value in the trie, so that subsequent lookups of <code>t["bar"]</code> produce a <code>KeyError</code>.</p>
</li>
<li>
<p><code>del t["foo"]</code> should raise a <code>KeyError</code> since <code>"foo"</code> does not exist as a key in the example trie.</p>
</li>
</ul>
<p>For the purposes of this lab, you only need to do the bare minimum so that the
key is no longer associated with a value (don't worry about extra memory usage
after deleting the key).</p>
</div>
<p><strong>__contains__</strong>( <em>self, key</em> )</p>
<div markdown="" style="margin-left: 2em">
<p>Return <code>True</code> if <code>key</code> occurs and has a value other than <code>None</code> in the
trie.   <code>__contains__</code> is the special method name used by Python to implement the
<code>in</code> operator.  For example,</p>
<pre><code class="language-py">k in x
</code></pre>
<p>is translated to</p>
<pre><code class="language-py">x.__contains__(k)
</code></pre>
<p>Hint: At first glance, the code for this method might look very similar to some of the other methods above.  Make good use of helper functions to avoid repetitious code!</p>
<p>Examples (using the example trie from above):</p>
<ul>
<li>
<p><code>"ba" in t</code> returns <code>False</code> since that interior node has no value associated with it.</p>
</li>
<li>
<p><code>"bar" in t</code> returns <code>True</code> (not because the value associated with <code>'bar'</code> is <code>True</code>, but because <code>'bar'</code> has a value associated with it at all).</p>
</li>
<li>
<p><code>"barking" in t</code> returns <code>False</code> since <code>"barking"</code> can't be found in trie.</p>
</li>
</ul>
</div>
<p><strong>__iter__</strong>( <em>self</em> )</p>
<div markdown="" style="margin-left: 2em">
<p>Return a generator that yields <code>(key, value)</code> tuples for each
key stored in the trie.  The pairs can be produced in any order.
<code>__iter__</code> is the special method name used by Python when it needs to
iterate over a data object, i.e., the method invoked by the
<code>iter()</code> built-in function.  For example, the following Python
code will print all the keys in a trie:</p>
<pre><code class="language-py">for key, val in t:
    print(key)
</code></pre>
<p><strong>You should do this <em>without</em> first making a list or other structure that contains the items in the trie.</strong></p>
<p>Hint: You'll want to return a recursive generator
function that uses <code>yield</code> (and maybe <code>yield from</code>) to produce
the required sequence of values one at a time.  See <a href="https://docs.python.org/3/howto/functional.html#generators">https://docs.python.org/3/howto/functional.html#generators</a> and/or <a href="https://docs.python.org/3/whatsnew/3.3.html#pep-380">https://docs.python.org/3/whatsnew/3.3.html#pep-380</a>, and/or the week 5 lecture video.</p>
<p>Examples (using the example trie from above):</p>
<ul>
<li>
<p>The example above prints <code>bat</code>, <code>bar</code>, and <code>bark</code> on three separate lines.</p>
</li>
<li>
<p><code>list(t)</code> returns <code>[('bat', True), ('bar', True), ('bark', True)]</code>.
Note that the <code>list</code> function has an internal <code>for</code> loop that uses
<code>iter(t)</code> to iterate over each element of the sequence <code>t</code>.</p>
</li>
</ul>
</div>
<a class="anchor" name="catsoop_section_4"></a><a class="anchor" name="_autocomplete"></a><h2 class="cs_section_title">4) Autocomplete<a class="cs_permalink" href="#_autocomplete">§</a></h2>
<p>Now, let's implement our auto-complete engine!</p>
<p>We'll start with implementing autocompletion for words, and then we'll move
to implementing autocompletion for sentences.  As a start for either of these,
we'll need a way to build up a <code>Trie</code> instance from a text document.</p>
<p><strong>make_word_trie(text)</strong></p>
<div markdown="" style="margin-left: 2em">
<p><code>text</code> is a string containing a body of text.  Return a <code>Trie</code> instance mapping
<em>words</em> in the text to the frequency with which they occur in the given piece
of text.</p>
<p>Note that we have provided a method called <code>tokenize_sentences</code> which will try
to intelligently split a piece of text into individual sentences.  <b>You should use
this function rather than implementing your own.</b>  The function takes in a single
string and returns a list of strings, one for each sentence, where punctuation has been
stripped out and the sentence consists only of words.  Words within
those sentences are sequences of characters separated by spaces.</p>
</div>
<p><strong>make_phrase_trie(text)</strong></p>
<div markdown="" style="margin-left: 2em">
<p><code>text</code> is a string containing a body of text.  Return a <code>Trie</code> instance mapping
sentences (represented as tuples of words) to the frequency with which they
occur in the given piece of text.</p>
</div>
<p>As a running example, we'll use the following trie (Fig. 2), which could have
been created by calling <code>make_word_trie("bat bat bark bar")</code>.</p>
<div class="cs-diagram-source" diagramalign="center">Placeholder for Diagram <code class="cs-diagram-id">ed0229eac3b017728a9762c0e00bb502</code></div>
<center>Fig. 2</center>
<p>Once we have those trie representations, we are ready to go ahead and implement autocompletion!
We'll implement autocompletion as a function described below:</p>
<p><strong>autocomplete</strong>( <em>trie, prefix, max_count</em>=None )</p>
<div markdown="" style="margin-left: 2em">
<p><code>trie</code> is an instance of <code>Trie</code>, <code>prefix</code> is a string/tuple, <code>max_count</code> is an
integer or <code>None</code>.  Return a list of the <code>max_count</code>
most-frequently-occurring keys that start with <code>prefix</code>.  In the case of a
tie, you may output any of the most-frequently-occurring keys.  If there are
fewer than <code>max_count</code> valid keys available starting with <code>prefix</code>, return
only as many as there are.  The returned list may be in any order.  If
<code>max_count</code> is not specified, your list should contain <em>all</em> keys that start
with <code>prefix</code>.</p>
<p>Return <code>[]</code> if <code>prefix</code> is not in the trie.  Raise a <code>TypeError</code> if the given
prefix has the wrong type.</p>
<p>Examples (using the example trie from above):</p>
<ul>
<li>
<p><code>autocomplete(t, "ba", 1)</code> returns <code>['bat']</code>.</p>
</li>
<li>
<p><code>autocomplete(t, "ba", 2)</code> might return either <code>['bat', 'bark']</code>
or <code>['bat', 'bar']</code> since "bark" and "bar" occur with equal frequency.</p>
</li>
<li>
<p><code>autocomplete(t, "be", 1)</code> returns <code>[]</code>.</p>
</li>
</ul>
</div>
<p>Your implementation should be agnostic to the type of its inputs (i.e., it
should work on tries/prefixes that are either strings or tuples).  Write a
few small tests of your own to test this behavior.</p>
<a class="anchor" name="catsoop_section_5"></a><a class="anchor" name="_autocorrect"></a><h2 class="cs_section_title">5) Autocorrect<a class="cs_permalink" href="#_autocorrect">§</a></h2>
<p>You may have noticed that for some words, our autocomplete implementation
generates very few or no suggestions.  In cases such as these, we may want to
guess that the user mistyped something in the original word. We ask you to
implement a more sophisticated tool: autocorrect.</p>
<p>In this case, we will only concern ourselves with tries that are made up of
<em>words</em> (i.e., we won't concern ourselves with tuples in this case).</p>
<p><strong>autocorrect</strong>( <em>trie, prefix, max_count</em>=None )</p>
<div markdown="" style="margin-left: 2em">
<p><code>trie</code> is an instance of <code>Trie</code> whose keys are strings, <code>prefix</code> is a string,
<code>max_count</code> is an integer or <code>None</code>; returns a list of up to <code>max_count</code> words.
<code>autocorrect</code> should invoke <code>autocomplete</code>, but if fewer than <code>max_count</code>
completions are made, suggest additional words by applying one <b>valid
edit</b> to the prefix.</p>
<p>An <strong>edit</strong> for a word can be any one of the following:</p>
<ul>
<li>A single-character insertion (add any one character in the range "a" to "z" at any place in the word)</li>
<li>A single-character deletion (remove any one character from the word)</li>
<li>A single-character replacement (replace any one character in the word with a character in the
range a-z)</li>
<li>A two-character transpose (switch the positions of any two adjacent characters in the word)</li>
</ul>
<p>A <strong>valid edit</strong> is an edit that <strong>results in a word in the trie
without considering any suffix characters</strong>.  In other words we
don't try to autocomplete valid edits, we just check if
<code>edit in trie</code> is True.</p>
<p>For example, editing <code>"te"</code> to <code>"the"</code> is valid, but
editing <code>"te"</code> to <code>"tze"</code> is not, as "tze" isn't a
word. Likewise, editing <code>"phe"</code> to <code>"the"</code> is valid, but
<code>"phe"</code> to <code>"pho"</code> is not because "pho" is not a word in
the corpus, although many words beginning with "pho" are.</p>
<p>In summary, given a prefix that produces <span class="cs_math_to_render">C</span> completions, where <span class="cs_math_to_render">C</span> &lt; <code>max_count</code>,
generate up to <code>max_count</code> - <span class="cs_math_to_render">C</span> additional words by considering all valid single
edits of that prefix (i.e., corpus words that can be generated by 1
edit of the original prefix) and selecting the
most-frequently-occurring edited words. Return a list of suggestions
produced by including <b>all</b> <span class="cs_math_to_render">C</span> of the completions and up to <code>max_count</code> - <span class="cs_math_to_render">C</span> of
the most-frequently-occuring valid edits of the prefix; the list may
be in any order. Be careful not to repeat suggested words!</p>
<p>If <code>max_count</code> is <code>None</code> (or is unspecified), <code>autocorrect</code> should return all
autocompletions as well as all valid edits.</p>
<p>Example (using the example trie from above):</p>
<ul>
<li><code>autocorrect(t, "bar", 3)</code> returns <code>['bar', 'bark', 'bat']</code> since "bar" and "bark" are found by autocomplete and "bat"
is valid edit involving a single-character replacement, i.e., "t" is
replacing the "r" in "bar".</li></ul></div>
<a class="anchor" name="catsoop_section_6"></a><a class="anchor" name="_selecting_words_from_a_word_trie"></a><h2 class="cs_section_title">6) Selecting words from a word trie<a class="cs_permalink" href="#_selecting_words_from_a_word_trie">§</a></h2>
<p>It's sometimes useful to select only the words from a trie that match
a pattern.  That's the purpose of the <code>word_filter</code> method.</p>
<p><strong>word_filter</strong>( <em>trie, pattern</em> )</p>
<div markdown="" style="margin-left:2em;">
<p><code>trie</code> is a trie whose keys are strings, and <code>pattern</code> is a string.  Return a
list of <code>(word, freq)</code> tuples for those words whose characters match those of
<code>pattern</code>.  The characters in <code>pattern</code> are matched one-at-a-time with the
characters in each word stored in the trie.  If all the characters in a
particular word are matched, the <code>(word, freq)</code> pair should be included in the
list to be returned.  The list can be in any order.</p>
<p>The characters in <code>pattern</code> are interpreted as follows:</p>
<ul>
<li>
<p><code>'*'</code> matches a sequence of <b>zero or more</b> of the next
unmatched characters in <code>word</code>.</p>
</li>
<li>
<p><code>'?'</code> matches the next unmatched character in <code>word</code>
no matter what it is.  There must be a next unmatched character for
<code>'?'</code> to match.</p>
</li>
<li>
<p>otherwise the character in the pattern must exactly match the next unmatched character in the word.</p>
</li>
</ul>
<p>Note that the characters replaced by <code>*</code> and <code>?</code> can be arbitrary characters, not just letters.</p>
<p>Pattern examples:</p>
<ul>
<li><code>"*a*t"</code> matches all words that contain an "a" and end in "t."  This would include words like "at", "art", "saint", and "what."</li>
<li><code>"year*"</code> would match "year," "years," and "yearn," among others (as well as longer words like "yearning").</li>
<li><code>"year?"</code> would match "years," and "yearn" (but not longer words).</li>
<li><code>"*ing"</code> matches all words ending in "ing."</li>
<li><code>"???"</code> would match all 3-letter words.</li>
<li><code>"?ing"</code> matches all 4-letter words ending in "ing."</li>
<li><code>"?*ing"</code> matches all words with 4 or more letters that end in "ing."</li>
</ul>
<p>Filter examples (using the example trie from above):</p>
<ul>
<li>
<p><code>word_filter(t, "*")</code> returns <code>[('bat', 2), ('bar', 1), ('bark', 1)]</code>, i.e., listing all the words in the trie.</p>
</li>
<li>
<p><code>word_filter(t, "???")</code> returns <code>[('bat', 2), ('bar', 1)]</code>, i.e., listing all the 3-letter words in the trie.</p>
</li>
<li>
<p><code>word_filter(t, "*r*")</code> returns <code>[('bar', 1), ('bark', 1)]</code>, i.e., listing all the words containing an "r" in any position.</p>
</li></ul></div>
<p>Hint: the matching operation can implemented as a recursive search
function that attempts to match the next character in the pattern with
some number of characters at the beginning of the word, then
recursively matches the remaining characters in the pattern with
remaining unmatched characters in the word.  <strong>You should not use a
"brute-force" method that involves generating and/or looping over all words in
the trie.</strong></p>
<p>Note: <b>you cannot use any of the built-in Python pattern-matching
functions</b>, e.g., functions from the <code>re</code> module — you are expected
to write your own pattern-matching code.  Copying or referencing code from
StackOverflow or other sources is also not appropriate.</p>
<a class="anchor" name="catsoop_section_7"></a><a class="anchor" name="_testing_your_lab"></a><h2 class="cs_section_title">7) Testing your lab<a class="cs_permalink" href="#_testing_your_lab">§</a></h2>
<p>As in the previous labs, we provide you with a <code>test.py</code> script to help you
verify the correctness of your code.  In addition to the test cases for this
week's lab, we'll have you test out your code by running it on several examples
of real public-domain books (courtesy of <a href="https://www.gutenberg.org/">Project
Gutenberg</a>).</p>
<p>Download the following text files (each of which contains a whole book) to the
same directory as your <code>lab.py</code> (by right-clicking the link and then clicking
"Save As" or similar):</p>
<ul>
<li><a href="https://www.gutenberg.org/files/1342/1342-0.txt"><em>Pride and Prejudice</em> by Jane Austen</a></li>
<li><a href="https://www.gutenberg.org/files/11/11-0.txt"><em>Alice's Adventures in Wonderland</em> by Lewis Carroll</a></li>
<li><a href="http://www.gutenberg.org/cache/epub/345/pg345.txt"><em>Dracula</em> by Bram Stoker</a></li>
<li><a href="https://www.gutenberg.org/files/98/98-0.txt"><em>A Tale of Two Cities</em> by Charles Dickens</a></li>
<li><a href="http://www.gutenberg.org/cache/epub/5200/pg5200.txt"><em>Metamorphosis</em> by Franz Kafka</a></li>
</ul>
<p>You can load the text of any of these files using something like the following code:</p>
<pre><code class="language-py">with open("filename.txt", encoding="utf-8") as f:
    text = f.read()
</code></pre>
<p>After running this code, the variable <code>text</code> will be bound to a string
containing the text contained in the <code>filename.txt</code> file.</p>
<p>We'll read the contents of these files into Python, use our <code>make_word_trie</code>
and <code>make_phrase_trie</code> functions to create the relevant trie structures, and
use our autocompletion/autocorrection based on those corpora.  Use these tools
to answer the following questions <strong>and be prepared to discuss how you used
your <code>Trie</code> structure to answer these questions during the checkoff</strong>.</p>
<p>
<!--START question q000000 -->
<div class="question question-pythonic" id="cs_qdiv_q000000" style="position: static">
<div id="q000000_rendered_question">
In <em>Alice's Adventures in Wonderland</em>, what are the six most
common sentences (regardless of prefix)?  Enter your answer as a Python list of
tuples:<br/><input id="q000000" name="q000000" size="50" type="text" value=""/>
</div><div>
<span id="q000000_buttons"></span>
<span id="q000000_loading_wrapper">
<span id="q000000_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000000_score_display"></span>
<div class="nsubmits_left" id="q000000_nsubmits_left"></div></div>
<div id="q000000_solution_container">
<div id="q000000_solution">
</div>
<div id="q000000_solution_explanation">
</div>
</div>
<div id="q000000_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000000 -->
</p>
<p>
<!--START question q000001 -->
<div class="question question-pythonic" id="cs_qdiv_q000001" style="position: static">
<div id="q000001_rendered_question">
In <em>Metamorphosis</em>, what are the six most
common words starting with <code>gre</code>?  Enter your answer as a Python list of
strings:<br/><input id="q000001" name="q000001" size="50" type="text" value=""/>
</div><div>
<span id="q000001_buttons"></span>
<span id="q000001_loading_wrapper">
<span id="q000001_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000001_score_display"></span>
<div class="nsubmits_left" id="q000001_nsubmits_left"></div></div>
<div id="q000001_solution_container">
<div id="q000001_solution">
</div>
<div id="q000001_solution_explanation">
</div>
</div>
<div id="q000001_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000001 -->
</p>
<p>
<!--START question q000002 -->
<div class="question question-pythonic" id="cs_qdiv_q000002" style="position: static">
<div id="q000002_rendered_question">
In <em>Metamorphosis</em>, what are all of the words matching the pattern <code>c*h</code>, along with their counts?
Enter your answer as a Python list of
tuples, of the same form as your output from <code>word_filter</code>:<br/><input id="q000002" name="q000002" size="50" type="text" value=""/>
</div><div>
<span id="q000002_buttons"></span>
<span id="q000002_loading_wrapper">
<span id="q000002_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000002_score_display"></span>
<div class="nsubmits_left" id="q000002_nsubmits_left"></div></div>
<div id="q000002_solution_container">
<div id="q000002_solution">
</div>
<div id="q000002_solution_explanation">
</div>
</div>
<div id="q000002_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000002 -->
</p>
<p>
<!--START question q000003 -->
<div class="question question-pythonic" id="cs_qdiv_q000003" style="position: static">
<div id="q000003_rendered_question">
In <em>A Tale of Two Cities</em>, what are all of the words matching the pattern <code>r?c*t</code>, along with their counts?
Enter your answer as a Python list of
tuples, of the same form as your output from <code>word_filter</code>:<br/><input id="q000003" name="q000003" size="50" type="text" value=""/>
</div><div>
<span id="q000003_buttons"></span>
<span id="q000003_loading_wrapper">
<span id="q000003_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000003_score_display"></span>
<div class="nsubmits_left" id="q000003_nsubmits_left"></div></div>
<div id="q000003_solution_container">
<div id="q000003_solution">
</div>
<div id="q000003_solution_explanation">
</div>
</div>
<div id="q000003_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000003 -->
</p>
<p>
<!--START question q000004 -->
<div class="question question-pythonic" id="cs_qdiv_q000004" style="position: static">
<div id="q000004_rendered_question">
What are the top 12 autocorrections for <code>'hear'</code> in  <em>Alice in Wonderland</em>?
Enter your answer as a Python list of
strings:<br/><input id="q000004" name="q000004" size="50" type="text" value=""/>
</div><div>
<span id="q000004_buttons"></span>
<span id="q000004_loading_wrapper">
<span id="q000004_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000004_score_display"></span>
<div class="nsubmits_left" id="q000004_nsubmits_left"></div></div>
<div id="q000004_solution_container">
<div id="q000004_solution">
</div>
<div id="q000004_solution_explanation">
</div>
</div>
<div id="q000004_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000004 -->
</p>
<p>
<!--START question q000005 -->
<div class="question question-pythonic" id="cs_qdiv_q000005" style="position: static">
<div id="q000005_rendered_question">
What are <em>all</em> autocorrections for <code>'hear'</code> in <em>Pride and Prejudice</em>?
Enter your answer as a Python list of strings:<br/><input id="q000005" name="q000005" size="50" type="text" value=""/>
</div><div>
<span id="q000005_buttons"></span>
<span id="q000005_loading_wrapper">
<span id="q000005_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000005_score_display"></span>
<div class="nsubmits_left" id="q000005_nsubmits_left"></div></div>
<div id="q000005_solution_container">
<div id="q000005_solution">
</div>
<div id="q000005_solution_explanation">
</div>
</div>
<div id="q000005_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000005 -->
</p>
<p>
<!--START question q000006 -->
<div class="question question-pythonic" id="cs_qdiv_q000006" style="position: static">
<div id="q000006_rendered_question">
How many distinct words are in <em>Dracula</em>?<br/><input id="q000006" name="q000006" size="50" type="text" value=""/>
</div><div>
<span id="q000006_buttons"></span>
<span id="q000006_loading_wrapper">
<span id="q000006_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000006_score_display"></span>
<div class="nsubmits_left" id="q000006_nsubmits_left"></div></div>
<div id="q000006_solution_container">
<div id="q000006_solution">
</div>
<div id="q000006_solution_explanation">
</div>
</div>
<div id="q000006_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000006 -->
</p>
<p>
<!--START question q000007 -->
<div class="question question-pythonic" id="cs_qdiv_q000007" style="position: static">
<div id="q000007_rendered_question">
How many total words are in <em>Dracula</em>?<br/><input id="q000007" name="q000007" size="50" type="text" value=""/>
</div><div>
<span id="q000007_buttons"></span>
<span id="q000007_loading_wrapper">
<span id="q000007_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000007_score_display"></span>
<div class="nsubmits_left" id="q000007_nsubmits_left"></div></div>
<div id="q000007_solution_container">
<div id="q000007_solution">
</div>
<div id="q000007_solution_explanation">
</div>
</div>
<div id="q000007_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000007 -->
</p>
<p>
<!--START question q000008 -->
<div class="question question-pythonic" id="cs_qdiv_q000008" style="position: static">
<div id="q000008_rendered_question">
How many distinct sentences are in <em>Alice's Adventures in Wonderland</em>?<br/><input id="q000008" name="q000008" size="50" type="text" value=""/>
</div><div>
<span id="q000008_buttons"></span>
<span id="q000008_loading_wrapper">
<span id="q000008_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000008_score_display"></span>
<div class="nsubmits_left" id="q000008_nsubmits_left"></div></div>
<div id="q000008_solution_container">
<div id="q000008_solution">
</div>
<div id="q000008_solution_explanation">
</div>
</div>
<div id="q000008_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000008 -->
</p>
<p>
<!--START question q000009 -->
<div class="question question-pythonic" id="cs_qdiv_q000009" style="position: static">
<div id="q000009_rendered_question">
How many total sentences are in <em>Alice's Adventures in Wonderland</em>?<br/><input id="q000009" name="q000009" size="50" type="text" value=""/>
</div><div>
<span id="q000009_buttons"></span>
<span id="q000009_loading_wrapper">
<span id="q000009_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="q000009_score_display"></span>
<div class="nsubmits_left" id="q000009_nsubmits_left"></div></div>
<div id="q000009_solution_container">
<div id="q000009_solution">
</div>
<div id="q000009_solution_explanation">
</div>
</div>
<div id="q000009_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question q000009 -->
</p>
<a class="anchor" name="catsoop_section_8"></a><a class="anchor" name="_code_submission"></a><h2 class="cs_section_title">8) Code Submission<a class="cs_permalink" href="#_code_submission">§</a></h2>
<p>
<!--START question code -->
<div class="question question-lab009" id="cs_qdiv_code" style="position: static">
<div id="code_rendered_question">
<input id="code" name="code" style="display: none" type="file"/><button class="btn btn-catsoop" id="code_select_button">Select File</button> <tt><span id="code_selected_file">No file selected</span></tt>
<script type="text/javascript">
document.getElementById('code').value = '';
document.getElementById('code_select_button').addEventListener('click', function (){
    document.getElementById("code").click();
});
document.getElementById('code').addEventListener('change', function (){
    document.getElementById('code_selected_file').innerText = document.getElementById('code').value;
});
</script>
</div><div>
<span id="code_buttons"></span>
<span id="code_loading_wrapper">
<span id="code_loading" style="display:none;"><img src="data:image/gif;base64,R0lGODlhEAAQAPIGAMLCwkJCQgAAAGJiYoKCgpKSkv///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAGACwAAAAAEAAQAAADMmi63P4wyklrAyEAGoQInAdOmGYBw7AxwLoMGcG2rkHEQFHQLTsQOd2mB9ERCpTWzpEAACH5BAkKAAYALAAAAgAKAA4AAAMraAYRoNAEIUJUs97VHgTD4EVDQ2xEM2wgMV5AUbyKLKNEvoxA3P8sYNCQAAAh+QQJCgAGACwAAAAACgAOAAADLWi6EAFrBSGCAmQ0as1wROFABuEM0TUQ5FUU7fK+aRkWNYDFqV4bOl8v+BMuEgAh+QQJCgAGACwAAAAADgAKAAADKmi6QAMrrhECkaaVVl+FRiFuAwEEghAoYxGhqgI0oPxlNSbPOcb3PqAkAQAh+QQJCgAGACwCAAAADgAKAAADKWhqUAUrLuekApA+MiDD4BYExAVGwzgsmNR0lgWMXmwEghDYCq7zDFoCACH5BAkKAAYALAYAAAAKAA4AAAMqaADWros9GEuRUBE7jeUTYGEhMZANEQREN6xDJ54PsKJGIAhBp/OyWyMBACH5BAkKAAYALAYAAgAKAA4AAAMpaKoA+609Fie1C5Tipt7WRhRWw0ED0T1DEAyMq7mEEghCAKTdnZcySwIAIfkEBQoABgAsAgAGAA4ACgAAAytoumwALb4X2YR1URACVkBRYIEgBIw4KuUJDERIzGD3doMhfguBZyAYT5EAADs="/></span>
</span>
<span id="code_score_display"></span>
<div class="nsubmits_left" id="code_nsubmits_left"></div></div>
<div id="code_solution_container">
<div id="code_solution">
</div>
<div id="code_solution_explanation">
</div>
</div>
<div id="code_message"></div>
<span style="font-size: small; color: #888; font-weight: bold;">This question is due on Friday October 30, 2020 at 04:00:00 PM Eastern time.</span></div>
<!--END question code -->
</p>
<style>
.impsolution{display:none;}
</style>
<a class="anchor" name="catsoop_section_9"></a><a class="anchor" name="_checkoff"></a><h2 class="cs_section_title">9) Checkoff<a class="cs_permalink" href="#_checkoff">§</a></h2>
<p>Once you are finished with the code, please come to a office hours and
add yourself to the queue asking for a checkoff.  <strong>You must be
ready to discuss your code and test cases in detail before asking for a checkoff.</strong></p>
<p>You should be prepared to demonstrate your code (which should be
well-commented, should avoid repetition, and should make good use of helper
functions).  In particular, be prepared to discuss:</p>
<ul>
<li>how you were able to keep track of the prefix associated with each node <strong>without explicitly storing the prefix itself</strong></li>
<li>the tradeoff between using iteration and recursion when implementing the <code>__getitem__</code> method.</li>
<li>how you created a generator when implementing the <code>__iter__</code> method <strong>without first creating some other structure to store the items</strong>.  Did you use <code>yield from</code>?</li>
<li>how using your other methods would simplify the implementation of <code>autocomplete</code></li>
<li>how your code for creating edits works.</li>
<li>how your recursive matching works (without enumerating all words) for the <code>filter</code> implementation.</li>
<li>how you used your <code>Trie</code> structure to answer the questions at the bottom of the page.</li>
</ul>
<p><a class="anchor" name="catsoop_section_9_1"></a><a class="anchor" name="_grade"></a><h3 class="cs_section_title">9.1) Grade<a class="cs_permalink" href="#_grade">§</a></h3></p>
<div class="response"><i>You have not yet received this checkoff.  When you have completed this checkoff, you will see a grade here.</i></div>
<script type="text/javascript">catsoop.diagram_sources["37972a72e649b35a62f926d6e4c9de96"] = "            .-----.\n           |       |\n            '--+--'\n               | b\n               v\n            .-----.\n           |       |\n            '--+--'\n               | a\n               v\n            .--+--.\n           |       |\n            +-----+\n           /       \\\n        t /         \\ r\n         v           v\n     .--+--.       .--+--.\n    |  True |     | True  |\n     '-----'       '--+--'\n                      | k\n                      v\n                   .--+--.\n                  | True  |\n                   '-----'\n";
catsoop.diagram_sources["ed0229eac3b017728a9762c0e00bb502"] = "            .-----.\n           |       |\n            '--+--'\n               | b\n               v\n            .-----.\n           |       |\n            '--+--'\n               | a\n               v\n            .--+--.\n           |       |\n            +-----+\n           /       \\\n        t /         \\ r\n         v           v\n     .--+--.       .--+--.\n    |   2   |     |   1   |\n     '-----'       '--+--'\n                      | k\n                      v\n                   .--+--.\n                  |   1   |\n                   '-----'\n";</script>
<script src="https://py.mit.edu/_static/_handler/default/cs_ajax.js" type="text/javascript"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3
catsoop.all_questions = ['q000000', 'q000001', 'q000002', 'q000003', 'q000004', 'q000005', 'q000006', 'q000007', 'q000008', 'q000009', 'code'];
catsoop.username = null;
catsoop.api_token = null;
catsoop.this_path = 'https://py.mit.edu/fall20/labs/lab7';
catsoop.path_info = ['fall20', 'labs', 'lab7'];
catsoop.course = 'fall20';
catsoop.url_root = 'https://py.mit.edu';
catsoop.imp = '';
catsoop.skip_alert = [];
catsoop.viewans_confirm = "Are you sure?  Viewing the answer will prevent any further submissions to this question.  Press 'OK' to view the answer, or press 'Cancel' if you have changed your mind.";

// @license-end</script>
<br/> <hr/><b name="cs_footnotes">Footnotes</b><p><a class="anchor" name="catsoop_footnote_1"></a><sup style="padding-right:0.25em;color:var(--cs-base-bg-color);">1</sup>Different people have different opinions about whether this
data structure's name should be pronounced like "tree" or like "try."  It
originally comes from the middle syllable of the word "retrieval," which
suggests one pronunciation, but some prefer to say it like "try" to avoid
confusion with general "tree" structures in programming.  Some even say "tree
as in try," but that's kind of a mouthful... <a href="#catsoop_footnote_ref_1"><span class="noprint">(click to return to text)</span></a></p>
</div>
</div>
<div class="cs_right_menu"></div>
</main>
<footer>
<div class="cs_navigation cs_bottom_navigation" id="cs_bottom_navigation"><span class="line"><a href="https://py.mit.edu/fall20">Home</a></span> <span class="cs_nav_separator">/</span> <span class="line"><a href="https://py.mit.edu/fall20/labs/lab7">Lab 7: Autocomplete</a></span></div>
<div class="cs_footer">
      This page was last updated on Sunday October 25, 2020 at 02:24:45 PM (revision <code>ccf3aa31</code>).<br/> <br/>
<pre class="catsooplogo" style="font-size:50%;">\            
/    /\__/\  
\__=(  o_O )=
(__________) 
 |_ |_ |_ |_ </pre>
      Powered by <a href="https://catsoop.mit.edu" target="_blank">CAT-SOOP</a> v2021.2.0.dev1971+hg ("Devon Rex" development snapshot).<br/>
      CAT-SOOP is <a href="https://www.fsf.org/about/what-is-free-software" target="_blank">Free/Libre Software</a>, available under the terms<br/>of the <a href="https://py.mit.edu/_util/license" target="_blank">GNU Affero General Public License, version 3</a>.<br/>
<a download="" href="https://py.mit.edu/_util/source.zip" target="_blank">Download Source Code</a><br/>
<a href="https://py.mit.edu/_util/jslicense.html" rel="jslicense" target="_blank">Javascript License Information</a>
</div>
</footer>
</body>
</html>

